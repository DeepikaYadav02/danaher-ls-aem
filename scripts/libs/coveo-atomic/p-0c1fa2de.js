import{g as t}from"./p-591772f1.js";import{b as n}from"./p-92adf573.js";import{c as e}from"./p-a5540571.js";class s extends Error{constructor(t){super(`The "${t}" element must be the child of an "atomic-result" element.`)}}function o(e={folded:!1}){return(r,o)=>{const{connectedCallback:c,componentWillRender:a,render:u}=r;r.connectedCallback=function(){const r=t(this),a=n(i,(t=>{e.folded?l(t)?this[o]=t:this[o]={children:[],result:t}:this[o]=l(t)?t.result:t}));if(!r.dispatchEvent(a))return c&&c.call(this);this.error=new s(r.nodeName.toLowerCase())},r.componentWillRender=function(){if(!this.error)return a&&a.call(this)},r.render=function(){if(this.error){const e=t(this);return e.remove(),void console.error("Result component is in error and has been removed from the DOM",this.error,this,e)}return u&&u.call(this)}}}function r(){return(e,r)=>{const{connectedCallback:o}=e;e.connectedCallback=function(){const e=t(this),s=n(c,(t=>{this[r]=t}));return e.dispatchEvent(s),o&&o.call(this)}}}const i="atomic/resolveResult",c="atomic/resolveInteractiveResult";function u(t){return new Promise(((r,o)=>{const c=n(i,(t=>r(t)));t.dispatchEvent(c),e(t,"atomic-result")||o(new s(t.nodeName.toLowerCase()))}))}function l(t){return"children"in t}const h="atomic/resolveChildTemplates";function f(){return(e,r)=>{const{componentWillRender:o}=e;e.componentWillRender=function(){const e=t(this),s=n(h,(t=>{this.resultTemplateProvider||(this[r]=t)}));if(!e.dispatchEvent(s))return o&&o.call(this);this[r]=null}}}const a="atomic/resolveResultDisplayConfig";function m(){return(e,r)=>{const{componentWillRender:o}=e;e.componentWillRender=function(){const e=t(this),s=n(a,(t=>{this[r]=t}));if(!e.dispatchEvent(s))return o&&o.call(this)}}}export{f as C,r as I,o as R,m as a,u as r};