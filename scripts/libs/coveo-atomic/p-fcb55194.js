import{J as t}from"./p-d2151deb.js";import{e as s}from"./p-1e65cba6.js";class e{constructor(e){this.props=e,this.registerResultTemplates()}makeDefaultTemplate(){const e=document.createDocumentFragment(),t=document.createElement("atomic-result-link");return e.appendChild(t),{content:e,conditions:[]}}async registerResultTemplates(){this.resultTemplatesManager=t(this.props.bindings.engine);const e=await Promise.all(this.props.templateElements.map((async e=>{const t=await e.getTemplate();return t||this.props.setTemplateHasError(!0),t}))),s=(!e.length&&this.props.includeDefaultTemplate?[this.makeDefaultTemplate()]:[]).concat(e.filter((e=>e)));this.resultTemplatesManager.registerTemplates(...s),this.props.setResultTemplateRegistered(!0)}getTemplateContent(e){return this.resultTemplatesManager.selectTemplate(s(e))}get templatesRegistered(){return this.props.getResultTemplateRegistered()}get hasError(){return this.props.getTemplateHasError()}}export{e as R};