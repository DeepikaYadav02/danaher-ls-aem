import{h as t,H as r}from"./p-591772f1.js";import{R as s}from"./p-0edd74fe.js";import{B as e}from"./p-59a8a3f5.js";class i{constructor(e){this.props=e}get foldedResult(){return this.collection||this.props.getResult()}get numberOfChildren(){return this.foldedResult.children.length}get hasChildren(){return!!this.numberOfChildren}get collection(){return this.props.getFoldedResultListState().results.find((e=>e.result.uniqueId===this.props.getResult().result.uniqueId))}renderPlaceholder(){return t(s,{numberOfPlaceholders:this.numberOfChildren||2,density:this.props.getDisplayConfig().density,imageSize:this.props.getImageSize()||this.props.getDisplayConfig().imageSize})}renderNoResult(){return t("p",{part:"no-result-root",class:"no-result-root my-3"},this.props.getBindings().i18n.t(this.props.getNoResultText()))}renderCollapseButton(){const r=this.collection;if(r.children.length&&!r.moreResultsAvailable)return t(e,{part:"show-hide-button",class:"show-hide-button",style:"text-primary",onClick:()=>{this.props.getShowInitialChildren()?this.props.getFoldedResultList().logShowMoreFoldedResults(this.foldedResult.result):this.props.getFoldedResultList().logShowLessFoldedResults(),this.props.toggleShowInitialChildren()}},this.props.getBindings().i18n.t(this.props.getShowInitialChildren()?"load-all-results":"collapse-results"))}renderChildrenWrapper(e){return t("div",{part:"children-root"},this.hasChildren&&t("slot",{name:"before-children"}),e,this.hasChildren&&t("slot",{name:"after-children"}))}renderChildren(e){return this.renderChildrenWrapper(e.map(((t,r)=>this.props.renderChild(t,r===e.length-1))))}renderCollection(){var e;const s=this.collection;if(s.isLoadingMoreResults)return this.renderChildrenWrapper(this.renderPlaceholder());if(!s.moreResultsAvailable&&!this.hasChildren)return(null===(e=this.props.getNoResultText())||void 0===e?void 0:e.trim().length)?this.renderNoResult():null;if(!this.hasChildren)return;const i=this.props.getShowInitialChildren()?this.props.getInitialChildren():s.children;return t(r,null,this.renderCollapseButton(),this.renderChildren(i))}renderFoldedResult(){if(this.hasChildren)return this.renderChildren(this.foldedResult.children)}componentWillRender(){const e=this.collection;!this.props.getInitialChildren()&&e&&this.props.setInitialChildren(e.children)}render(){if(this.props.getInheritTemplates()||this.props.getResultTemplateRegistered())return!this.props.getInheritTemplates()&&this.props.getTemplateHasError()?t("slot",null):this.collection?this.renderCollection():this.renderFoldedResult()}}export{i as R};