import{h as t,H as i,g as n,f as e}from"./p-591772f1.js";import{b as o}from"./p-92adf573.js";import{c as s}from"./p-a5540571.js";const r=()=>t(i,{class:"atomic-hidden"}),a="atomic/initializeComponent",c=["atomic-recs-interface","atomic-search-interface","atomic-relevance-inspector","atomic-insight-interface","atomic-external"];function l(t){return new Promise(((e,i)=>{const n=o(a,(t=>e(t)));t.dispatchEvent(n),s(t,c.join(", "))||i(new d(t.nodeName.toLowerCase()))}))}class d extends Error{constructor(t){super(`The "${t}" element must be the child of the following elements: ${c.join(", ")}`)}}function h(t){t.shadowRoot&&(window.applyFocusVisiblePolyfill?window.applyFocusVisiblePolyfill(t.shadowRoot):window.addEventListener("focus-visible-polyfill-ready",(()=>{var e;return null===(e=window.applyFocusVisiblePolyfill)||void 0===e?void 0:e.call(window,t.shadowRoot)}),{once:!0}))}const f="data-atomic-rendered",u="data-atomic-loaded";function m({forceUpdate:i}={}){return(l,p)=>{const{componentWillLoad:b,render:m,componentDidRender:C,componentDidLoad:w,disconnectedCallback:g}=l;let v=()=>{};if("bindings"!==p)return console.error(`The InitializeBindings decorator should be used on a property called "bindings", and not "${p}"`,l);l.componentWillLoad=function(){const t=n(this);t.setAttribute(f,"false"),t.setAttribute(u,"false");const l=o(a,(t=>{this.bindings=t;const n=()=>e(this);this.bindings.i18n.on("languageChanged",n),v=()=>this.bindings.i18n.off("languageChanged",n);try{this.initialize?(this.initialize(),i&&e(this)):e(this)}catch(t){this.error=t}}));if(t.dispatchEvent(l),s(t,c.join(", ")))return b&&b.call(this);this.error=new d(t.nodeName.toLowerCase())},l.render=function(){return this.error?t("atomic-component-error",{element:n(this),error:this.error}):this.bindings?(n(this).setAttribute(f,"true"),m&&m.call(this)):t(r,null)},l.disconnectedCallback=function(){const t=n(this);t.setAttribute(f,"false"),t.setAttribute(u,"false"),v(),g&&g.call(this)},l.componentDidRender=function(){const t=n(this);"false"!==t.getAttribute(f)&&(C&&C.call(this),"false"===t.getAttribute(u)&&(t.setAttribute(u,"true"),h(n(this)),w&&w.call(this)))},l.componentDidLoad=function(){}}}function p(t,e){return(i,o)=>{const{disconnectedCallback:s,initialize:a}=i;i.initialize=function(){return a&&a.call(this),a?this[t]?(null==e?void 0:e.onUpdateCallbackMethod)&&!this[e.onUpdateCallbackMethod]?console.error(`ControllerState: The onUpdateCallbackMethod property "${e.onUpdateCallbackMethod}" is not defined`,i):void(this.unsubscribeController=this[t].subscribe((()=>{this[o]=this[t].state,(null==e?void 0:e.onUpdateCallbackMethod)&&this[e.onUpdateCallbackMethod]()}))):void 0:console.error(`ControllerState: The "initialize" method has to be defined and instantiate a controller for the property ${t}`,i)},i.disconnectedCallback=function(){var t;!n(this).isConnected&&(null===(t=this.unsubscribeController)||void 0===t||t.call(this)),s&&s.call(this)}}}export{p as B,r as H,m as I,d as M,a,h as b,l as i};