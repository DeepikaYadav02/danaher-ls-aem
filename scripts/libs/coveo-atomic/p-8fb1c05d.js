import{h as e}from"./p-591772f1.js";import{A as t}from"./p-e0a9d562.js";import{A as s}from"./p-1f4a8a1f.js";import{B as r}from"./p-59a8a3f5.js";import{H as n}from"./p-a52ecd94.js";import{H as i}from"./p-a096f4ab.js";class o{constructor(e){this.props=e}get style(){var e;const t=null===(e=this.props.getHost().querySelector("template"))||void 0===e?void 0:e.content.querySelector("style");return t?t.innerHTML:this.props.getSnippetStyle()}getRelatedQuestionId(e){return`${this.props.id}-${e}`}getQuestionPart(e,t){return e+(t.expanded?"-expanded":"-collapsed")}toggleQuestion(e){e.expanded?this.props.getQuestionsList().collapse(e.questionAnswerId):this.props.getQuestionsList().expand(e.questionAnswerId)}renderQuestion(i,o){const a=this.props.getHeadingLevel();return e(r,{style:"text-neutral",part:this.getQuestionPart("question-button",i),onClick:()=>this.toggleQuestion(i),class:"flex items-center px-4",ariaExpanded:`${i.expanded}`,ariaControls:this.getRelatedQuestionId(o)},e("atomic-icon",{icon:i.expanded?t:s,part:this.getQuestionPart("question-icon",i),class:"w-2.5 mr-3 stroke-[1.25]"}),e(n,{level:a?a+1:a,class:"text-left text-xl font-bold py-4",part:this.getQuestionPart("question-text",i)},i.question))}renderContent(t){return e("atomic-smart-snippet-answer",{exportparts:"answer",htmlContent:t.answer,innerStyle:this.style,onSelectInlineLink:e=>this.props.getQuestionsList().selectInlineLink(t.questionAnswerId,e.detail),onBeginDelayedSelectInlineLink:e=>this.props.getQuestionsList().beginDelayedSelectInlineLink(t.questionAnswerId,e.detail),onCancelPendingSelectInlineLink:e=>this.props.getQuestionsList().cancelPendingSelectInlineLink(t.questionAnswerId,e.detail)})}renderSource(t){var s,n;const{source:i}=t;return i?e("footer",{part:"footer","aria-label":this.props.getBindings().i18n.t("smart-snippet-source")},e("atomic-smart-snippet-source",{source:i,anchorAttributes:null===(n=(s=this.props).getSourceAnchorAttributes)||void 0===n?void 0:n.call(s),onSelectSource:()=>this.props.getQuestionsList().selectSource(t.questionAnswerId),onBeginDelayedSelectSource:()=>this.props.getQuestionsList().beginDelayedSelectSource(t.questionAnswerId),onCancelPendingSelectSource:()=>this.props.getQuestionsList().cancelPendingSelectSource(t.questionAnswerId)})):[]}hideDuringRender(e){const t=this.props.getHost();t.style.visibility=e?"hidden":"",t.style.position=e?"absolute":""}renderRelatedQuestion(t,s){return e("li",{key:t.questionAnswerId,part:this.getQuestionPart("question-answer",t),class:"flex flex-col"},e("article",{class:"contents"},this.renderQuestion(t,s),t.expanded&&e("div",{part:"answer-and-source",class:"pl-10 pr-6 pb-6",id:this.getRelatedQuestionId(s)},this.renderContent(t),this.renderSource(t))))}render(){return this.props.getState().questions.length?e("aside",{part:"container",class:"bg-background border border-neutral rounded-lg text-on-background overflow-hidden"},e(n,{level:this.props.getHeadingLevel(),part:"heading",class:"px-6 py-4 text-xl leading-8 border-b border-neutral"},this.props.getBindings().i18n.t("smart-snippet-people-also-ask")),e("ul",{part:"questions",class:"divide-neutral divide-y"},this.props.getState().questions.map(((e,t)=>this.renderRelatedQuestion(e,t))))):e(i,null)}}export{o as S};