import{h as e}from"./p-591772f1.js";import{u as t}from"./p-38b8e15b.js";import{o as r}from"./p-a5540571.js";import{B as s}from"./p-59a8a3f5.js";class a{constructor(e){this.props=e,this.updateBreakpoints=r((()=>t(this.props.getHost())))}sendFeedback(){"other"===this.props.getCurrentAnswer()?this.props.getSmartSnippet().sendDetailedFeedback(this.props.getDetailsInputRef().value):this.props.getSmartSnippet().sendFeedback(this.props.getCurrentAnswer()),this.props.getFeedbackSent().emit(),this.props.setIsOpen(!1)}close(){this.props.setIsOpen(!1),this.props.getSmartSnippet().closeFeedbackModal()}renderHeader(){return e("h1",{slot:"header"},this.props.getBindings().i18n.t("smart-snippet-feedback-explain-why"))}renderOptions(){return e("fieldset",null,e("legend",{part:"reason-title",class:"font-bold text-on-background text-lg"},this.props.getBindings().i18n.t("smart-snippet-feedback-select-reason")),[{id:"does-not-answer",localeKey:"smart-snippet-feedback-reason-does-not-answer",correspondingAnswer:"does_not_answer"},{id:"partially-answers",localeKey:"smart-snippet-feedback-reason-partially-answers",correspondingAnswer:"partially_answers"},{id:"was-not-a-question",localeKey:"smart-snippet-feedback-reason-was-not-a-question",correspondingAnswer:"was_not_a_question"},{id:"other",localeKey:"smart-snippet-feedback-reason-other",correspondingAnswer:"other"}].map((({id:t,localeKey:r,correspondingAnswer:s})=>e("div",{class:"flex items-center",key:t,part:"reason"},e("input",{part:"reason-radio",type:"radio",name:"answer",id:t,checked:this.props.getCurrentAnswer()===s,onChange:e=>{var t;return(null===(t=e.currentTarget)||void 0===t?void 0:t.checked)&&this.props.setCurrentAnswer(s)},class:"mr-2 w-4 h-4",required:!0}),e("label",{part:"reason-label",htmlFor:t},this.props.getBindings().i18n.t(r))))))}renderDetails(){if("other"===this.props.getCurrentAnswer())return e("fieldset",null,e("legend",{part:"details-title",class:"font-bold text-on-background text-lg"},this.props.getBindings().i18n.t("smart-snippet-feedback-details")),e("textarea",{part:"details-input",name:"answer-details",ref:e=>this.props.setDetailsInputRef(e),class:"mt-2 p-2 w-full text-base leading-5 border border-neutral resize-none rounded",rows:4,required:!0}))}renderBody(){return e("form",{part:"form",id:this.props.formId,slot:"body",onSubmit:e=>{e.preventDefault(),this.sendFeedback()},class:"flex flex-col gap-8"},this.renderOptions(),this.renderDetails())}renderFooter(){return e("div",{part:"buttons",slot:"footer",class:"flex justify-end gap-2"},e(s,{part:"cancel-button",style:"outline-neutral",class:"text-primary",onClick:()=>this.close()},this.props.getBindings().i18n.t("cancel")),e(s,{part:"submit-button",style:"primary",type:"submit",form:this.props.formId},this.props.getBindings().i18n.t("smart-snippet-feedback-send")))}render(){return this.updateBreakpoints(),e("atomic-modal",{fullscreen:!1,source:this.props.getSource(),container:this.props.getHost(),isOpen:this.props.getIsOpen(),close:()=>this.close(),exportparts:"backdrop,container,header,header-wrapper,header-ruler,body,body-wrapper,footer,footer-wrapper,footer-wrapper"},this.renderHeader(),this.renderBody(),this.renderFooter())}}export{a as S};