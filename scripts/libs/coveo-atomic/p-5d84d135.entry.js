import{r as t,h as i,g as r}from"./p-591772f1.js";import{S as e,N as s}from"./p-3eb3e1ff.js";import{w as a}from"./p-d2151deb.js";import{A as l}from"./p-1f4a8a1f.js";import{F as o}from"./p-a7ba7276.js";import{I as n}from"./p-a096f4ab.js";import{l as u}from"./p-a5540571.js";import{a as c}from"./p-29165857.js";import{L as p}from"./p-72d5eb61.js";import{R as m}from"./p-0c1fa2de.js";import"./p-92adf573.js";import"./p-eab67c09.js";import"./p-b0f98d39.js";const b="atomic-result-printable-uri{max-width:100%;word-break:break-word}atomic-result-printable-uri a,atomic-result-printable-uri button{color:var(--atomic-primary)}atomic-result-printable-uri a:hover,atomic-result-printable-uri.js-focus-visible a.focus-visible,.js-focus-visible atomic-result-printable-uri a.focus-visible,atomic-result-printable-uri button:hover,atomic-result-printable-uri.js-focus-visible button.focus-visible,.js-focus-visible atomic-result-printable-uri button.focus-visible{text-decoration:underline;color:var(--atomic-primary)}atomic-result-printable-uri a:hover,atomic-result-printable-uri a:focus-visible,atomic-result-printable-uri button:hover,atomic-result-printable-uri button:focus-visible{text-decoration:underline;color:var(--atomic-primary)}atomic-result-printable-uri a:focus,atomic-result-printable-uri button:focus{outline:none}atomic-result-printable-uri a:visited,atomic-result-printable-uri button:visited{color:var(--atomic-visited)}atomic-result-printable-uri ul{display:flex;flex-wrap:wrap}atomic-result-printable-uri li{display:inline-flex;align-items:center;max-width:100%}atomic-result-printable-uri li a{display:inline-block;vertical-align:middle;max-width:100%;text-overflow:ellipsis;overflow:hidden}atomic-result-printable-uri li{white-space:nowrap}atomic-result-printable-uri li:last-child{white-space:normal}atomic-result-printable-uri li:last-child::after{content:none}atomic-result-printable-uri li .result-printable-uri-separator{display:inline-block;margin:0 0.5rem;vertical-align:middle;width:0.75rem;height:0.75rem;color:var(--atomic-neutral-dark)}";var f=function(t,e,i,r){var a,s=arguments.length,l=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,r);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(l=(s<3?a(l):s>3?a(e,i,l):a(e,i))||l);return s>3&&l&&Object.defineProperty(e,i,l),l};const h=class{constructor(e){t(this,e),this.listExpanded=!1,this.maxNumberOfParts=5,this.listExpanded=!1,this.error=void 0,this.maxNumberOfParts=5}get focusTarget(){return this.expandedPartFocus||(this.expandedPartFocus=new o(this)),this.expandedPartFocus}connectedCallback(){try{new e({maxNumberOfParts:new s({min:3})}).validate({maxNumberOfParts:this.maxNumberOfParts})}catch(t){this.error=t}const t="attributes";this.linkAttributes=c(this.host,"attributes")}initialize(){this.interactiveResult=a(this.bindings.engine,{options:{result:this.result}})}getIndexOfEllipsis(t){return t-Math.max(2,t-this.maxNumberOfParts)-1}renderEllipsis(){return i("li",null,i("button",{"aria-label":this.bindings.i18n.t("collapsed-uri-parts"),onClick:t=>{t.stopPropagation(),this.focusTarget.focusOnNextTarget(),this.listExpanded=!0}},"..."),this.renderSeparator())}get allParents(){const t=u(`${this.result.raw.parents}`),e=Array.from(t.getElementsByTagName("parent")),r=this.getIndexOfEllipsis(e.length);return e.map(((t,a)=>{const s=t.getAttribute("name"),l=t.getAttribute("uri");return i("li",null,this.renderLink(s,l,a===r),a===e.length-1?null:this.renderSeparator())}))}renderSeparator(){return i("atomic-icon",{class:"result-printable-uri-separator",icon:l,role:"separator"})}renderParents(){const t=this.allParents;return this.listExpanded||t.length<=this.maxNumberOfParts?t:[t.slice(0,this.getIndexOfEllipsis(t.length)),this.renderEllipsis(),t.slice(-1)]}renderLink(t,e,r){return i(p,{href:e,title:"string"==typeof t?t:void 0,onSelect:()=>this.interactiveResult.select(),onBeginDelayedSelect:()=>this.interactiveResult.beginDelayedSelect(),onCancelPendingSelect:()=>this.interactiveResult.cancelPendingSelect(),attributes:this.linkAttributes,ref:r?t=>this.focusTarget.setTarget(t):void 0},t)}render(){const t=this.renderParents();return t.length?i("ul",{"aria-label":this.bindings.i18n.t("printable-uri")},t):this.renderLink(i("atomic-result-text",{field:"printableUri"}),this.result.clickUri,!1)}get host(){return r(this)}};f([n()],h.prototype,"bindings",void 0),f([m()],h.prototype,"result",void 0),h.style=b;export{h as atomic_result_printable_uri};