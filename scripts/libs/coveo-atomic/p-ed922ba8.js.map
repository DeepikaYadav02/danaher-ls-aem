{"version":3,"names":["consoleLogger","type","log","args","this","output","warn","error","console","apply","Logger","constructor","concreteLogger","options","arguments","length","undefined","init","prefix","logger","debug","_len","Array","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","split","forEach","event","push","off","filter","l","emit","cloned","concat","observer","defer","res","rej","promise","Promise","resolve","reject","makeString","object","copy","a","s","t","m","getLastOfPath","path","Empty","cleanKey","key","indexOf","replace","canNotTraverseDeeper","stack","shift","Object","prototype","hasOwnProperty","call","obj","k","setPath","newValue","pushPath","getPath","getPathWithDefaults","data","defaultData","value","deepExtend","target","source","overwrite","prop","String","regexEscape","str","_entityMap","escape","chars","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","c","r","RegExp","map","join","matched","test","ki","substring","deepFind","paths","current","i","j","p","slice","mix","endsWith","joinedPath","getCleanedCode","code","ResourceStore","ns","defaultNS","super","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","result","addResource","silent","addResources","resources","toString","addResourceBundle","deep","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","n","keys","find","v","toJSON","postProcessor","processors","addPostProcessor","module","name","handle","translator","processor","process","checkedLoadedFor","Translator","services","changeLanguage","language","exists","interpolation","resolved","extractFromKey","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","isArray","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","defaultValue","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","parse","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nestAft","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsZeroSuffixLookup","shouldUseIntlApi","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","pluralSeparator","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","Number","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","createRules","rules","set","numbers","plurals","PluralResolver","compatibilityJSON","includes","Intl","PluralRules","addRule","getRule","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","Interpolator","format","escapeValue","iOpts","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","JSON","e","formatters","doReduce","elem","reduce","parseFormatStr","formatStr","formatName","formatOptions","optStr","currency","range","opts","opt","rest","isNaN","parseInt","createCachedFormatter","fn","cache","invokeFormatter","stringify","formatter","Formatter","formats","NumberFormat","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","list","ListFormat","add","addCached","mem","formatted","valOptions","formatParams","locale","removePending","q","pending","pendingCount","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","state","queue","queueLoad","languages","callback","toLoad","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","err","done","loadedKeys","read","fcName","tried","wait","resolver","next","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","get","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","noop","bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","I18n","modules","external","isInitialized","isClone","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","storeApiChained","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","forkResourceStore","mergedOptions","membersToCopy","instance","_typeof","o","Symbol","iterator","arr","each","defaults","hasXMLHttpRequest","XMLHttpRequest","isPromise","maybePromise","makePromise","__global__","globalThis","self","global","__globalThis__","F","fetch","DOMException","exports","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","TypeError","normalizeValue","iteratorFor","items","Headers","headers","header","oldValue","has","thisArg","values","entries","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","fromCharCode","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","isConsumed","byteOffset","text","decode","json","methods","normalizeMethod","method","upcased","Request","input","url","credentials","mode","signal","referrer","reParamSearch","Date","getTime","reQueryString","form","bytes","decodeURIComponent","parseHeaders","rawHeaders","preProcessedHeaders","substr","line","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","location","message","request","aborted","xhr","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","fixUrl","href","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","polyfill","ponyfill","ctx","fetchApi","window","require","document","require$$0","XmlHttpRequestApi","ActiveXObjectApi","ActiveXObject","fetchNode","fetchNode.default","addQueryString","params","queryString","paramName","encodeURIComponent","fetchIt","fetchOptions","omitFetchOptions","requestWithFetch","payload","queryStringParams","customHeaders","versions","node","version","platform","arch","reqOptions","requestOptions","requestWithXmlHttpRequest","x","crossDomain","overrideMimeType","h","_classCallCheck","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","_defineProperty","arg","_toPrimitive","hint","prim","toPrimitive","getDefaults","loadPath","addPath","parsePayload","parseLoadPayload","reloadInterval","Backend","allOptions","setInterval","readMulti","_readAny","loadUrlLanguages","loadUrlNamespaces","resolvedLoadPath","loadUrl","parseErr","_this4","finished","dataArray","resArray","_this5","_this$services","currentLanguage","getWindow","getAtomicEnvironment","headlessVersion","VERSION","setCoveoGlobal","globalVariableName","loadFocusVisiblePolyfill","applyFocusVisiblePolyfill","querySelector","import","locales","af","am","ar","az","be","b","bg","bi","bm","bn","bo","br","bs","ca","cs","cv","cy","da","d","de","dv","el","en","eo","es","et","eu","fa","fi","fo","fr","fy","ga","g","gd","gl","gu","hi","he","hr","ht","hu","id","is","it","ja","jv","ka","kk","km","kn","ko","ku","ky","lb","lo","lt","lv","me","mi","mk","ml","mn","mr","ms","mt","my","ne","nl","nn","pl","pt","rn","ro","sd","si","se","sk","sl","sq","sr","ss","sv","sw","ta","te","tg","tet","th","tk","tlh","tr","tzl","u","tzm","uk","ur","vi","uz","yo","y","z","zh","rw","ru","resolveLanguage","languageInput","regionlessLanguage","loadDayjsLocale","dayjs","i18nTranslationNamespace","isI18nLocaleAvailable","availableLocales","i18nBackendOptions","atomicInterface","getAssetPath","languageAssetsPath","_options","_payload","fetchUrl","urlParams","init18n","i18n","logLevel","DOMPurify","sanitize","localizationCompatibilityVersion","mismatchedInterfaceAndEnginePropError","interfaceKind","configurationName","CommonAtomicInterfaceHelper","hangingComponentsInitialization","connectedCallback","originalConnectedCallback","render","originalRender","i18nPromise","element","host","onComponentInitializing","preventDefault","stopPropagation","engine","detail","bindings","onInitialization","initEngine","interfaceTagname","updateIconAssetsPath","registerFieldsToInclude","initComponents","onAnalyticsChange","analytics","engineIsCreated","disableAnalytics","enableAnalytics","onLanguageChange","_","tagName","augmentWithExternalMiddleware","config","_a","analyticsClientMiddleware","augmentAnalyticsWithAtomicVersion","customData","coveoAtomicVersion","augmentAnalyticsConfigWithDocument","documentLocation","originLevel3"],"sources":["../../node_modules/i18next/dist/esm/i18next.js","../../node_modules/i18next-http-backend/esm/utils.js","../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../node_modules/i18next-http-backend/esm/getFetch.cjs","../../node_modules/i18next-http-backend/esm/request.js","../../node_modules/i18next-http-backend/esm/index.js","src/global/environment.ts","src/global/focus-visible.ts","src/generated/dayjs-locales-data.ts","src/utils/dayjs-locales.ts","src/components/common/interface/i18n.ts","src/components/common/interface/interface-common.tsx","src/components/common/interface/analytics-config.ts"],"sourcesContent":["const consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      this.observers[event] = this.observers[event] || [];\n      this.observers[event].push(listener);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event] = this.observers[event].filter(l => l !== listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = [].concat(this.observers[event]);\n      cloned.forEach(observer => {\n        observer(...args);\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = [].concat(this.observers['*']);\n      cloned.forEach(observer => {\n        observer.apply(observer, [event, ...args]);\n      });\n    }\n  }\n}\n\nfunction defer() {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n}\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  const stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    const key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\nfunction setPath(object, path, newValue) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n}\nconst chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = new RegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const paths = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n    if (current[paths[i]] === undefined) {\n      let j = 2;\n      let p = paths.slice(i, i + j).join(keySeparator);\n      let mix = current[p];\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n      const joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\nfunction getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n    const result = getPath(this.data, path);\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    return {\n      key,\n      namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = resType === '[object Array]';\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const defaultValue = options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              this.pluralResolver.getSuffixes(language, options).forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: resolved,\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (typeof keys === 'string') keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: function (n) {\n    return Number(n > 1);\n  },\n  2: function (n) {\n    return Number(n != 1);\n  },\n  3: function (n) {\n    return 0;\n  },\n  4: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function (n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function (n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function (n) {\n    return Number(n >= 2);\n  },\n  10: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function (n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function (n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function (n) {\n    return Number(n !== 0);\n  },\n  14: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function (n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function (n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code), {\n          type: options.ordinal ? 'ordinal' : 'cardinal'\n        });\n      } catch {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nfunction deepFindWithDefaults(data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const iOpts = options.interpolation;\n    this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n    this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n    this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n    this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n    this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const regexpStr = `${this.prefix}(.+?)${this.suffix}`;\n    this.regexp = new RegExp(regexpStr, 'g');\n    const regexpUnescapeStr = `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n    const nestingRegexpStr = `${this.nestingPrefix}(.+?)${this.nestingSuffix}`;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      delete clonedOptions.defaultValue;\n      return key;\n    }\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && typeof value !== 'string') return value;\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (!opt) return;\n        const [key, ...rest] = opt.split(':');\n        const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    const iOpts = options.interpolation;\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n    this.state[name] = err ? -1 : 2;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: false,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach(key => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: (value, format, lng, options) => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0);\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nexport function defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nexport function hasXMLHttpRequest() {\n  return typeof XMLHttpRequest === 'function' || (typeof XMLHttpRequest === \"undefined\" ? \"undefined\" : _typeof(XMLHttpRequest)) === 'object';\n}\nfunction isPromise(maybePromise) {\n  return !!maybePromise && typeof maybePromise.then === 'function';\n}\nexport function makePromise(maybePromise) {\n  if (isPromise(maybePromise)) {\n    return maybePromise;\n  }\n  return Promise.resolve(maybePromise);\n}","// Save global object in a variable\nvar __global__ =\n(typeof globalThis !== 'undefined' && globalThis) ||\n(typeof self !== 'undefined' && self) ||\n(typeof global !== 'undefined' && global);\n// Create an object that extends from __global__ without the fetch function\nvar __globalThis__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = __global__.DOMException\n}\nF.prototype = __global__; // Needed for feature detection on whatwg-fetch's code\nreturn new F();\n})();\n// Wraps whatwg-fetch with a function scope to hijack the global object\n// \"globalThis\" that's going to be patched\n(function(globalThis) {\n\nvar irrelevant = (function (exports) {\n\n  var global =\n    (typeof globalThis !== 'undefined' && globalThis) ||\n    (typeof self !== 'undefined' && self) ||\n    (typeof global !== 'undefined' && global);\n\n  var support = {\n    searchParams: 'URLSearchParams' in global,\n    iterable: 'Symbol' in global && 'iterator' in Symbol,\n    blob:\n      'FileReader' in global &&\n      'Blob' in global &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in global,\n    arrayBuffer: 'ArrayBuffer' in global\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n      throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      /*\n        fetch-mock wraps the Response object in an ES6 Proxy to\n        provide useful test harness features such as flush. However, on\n        ES5 browsers without fetch or Proxy support pollyfills must be used;\n        the proxy-pollyfill is unable to proxy an attribute unless it exists\n        on the object before the Proxy is created. This change ensures\n        Response.bodyUsed exists on the instance, while maintaining the\n        semantic of setting Request.bodyUsed in the constructor before\n        _initBody is called.\n      */\n      this.bodyUsed = this.bodyUsed;\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          var isConsumed = consumed(this);\n          if (isConsumed) {\n            return isConsumed\n          }\n          if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n            return Promise.resolve(\n              this._bodyArrayBuffer.buffer.slice(\n                this._bodyArrayBuffer.byteOffset,\n                this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n              )\n            )\n          } else {\n            return Promise.resolve(this._bodyArrayBuffer)\n          }\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    if (!(this instanceof Request)) {\n      throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n    }\n\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n\n    if (this.method === 'GET' || this.method === 'HEAD') {\n      if (options.cache === 'no-store' || options.cache === 'no-cache') {\n        // Search for a '_' parameter in the query string\n        var reParamSearch = /([?&])_=[^&]*/;\n        if (reParamSearch.test(this.url)) {\n          // If it already exists then set the value with the current time\n          this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime());\n        } else {\n          // Otherwise add a new '_' parameter to the end with the current time\n          var reQueryString = /\\?/;\n          this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime();\n        }\n      }\n    }\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n    // https://github.com/github/fetch/issues/748\n    // https://github.com/zloirock/core-js/issues/751\n    preProcessedHeaders\n      .split('\\r')\n      .map(function(header) {\n        return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n      })\n      .forEach(function(line) {\n        var parts = line.split(':');\n        var key = parts.shift().trim();\n        if (key) {\n          var value = parts.join(':').trim();\n          headers.append(key, value);\n        }\n      });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!(this instanceof Response)) {\n      throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n    }\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = options.statusText === undefined ? '' : '' + options.statusText;\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = global.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        setTimeout(function() {\n          resolve(new Response(body, options));\n        }, 0);\n      };\n\n      xhr.onerror = function() {\n        setTimeout(function() {\n          reject(new TypeError('Network request failed'));\n        }, 0);\n      };\n\n      xhr.ontimeout = function() {\n        setTimeout(function() {\n          reject(new TypeError('Network request failed'));\n        }, 0);\n      };\n\n      xhr.onabort = function() {\n        setTimeout(function() {\n          reject(new exports.DOMException('Aborted', 'AbortError'));\n        }, 0);\n      };\n\n      function fixUrl(url) {\n        try {\n          return url === '' && global.location.href ? global.location.href : url\n        } catch (e) {\n          return url\n        }\n      }\n\n      xhr.open(request.method, fixUrl(request.url), true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr) {\n        if (support.blob) {\n          xhr.responseType = 'blob';\n        } else if (\n          support.arrayBuffer &&\n          request.headers.get('Content-Type') &&\n          request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n        ) {\n          xhr.responseType = 'arraybuffer';\n        }\n      }\n\n      if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n        Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n          xhr.setRequestHeader(name, normalizeValue(init.headers[name]));\n        });\n      } else {\n        request.headers.forEach(function(value, name) {\n          xhr.setRequestHeader(name, value);\n        });\n      }\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!global.fetch) {\n    global.fetch = fetch;\n    global.Headers = Headers;\n    global.Request = Request;\n    global.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n})({});\n})(__globalThis__);\n// This is a ponyfill, so...\n__globalThis__.fetch.ponyfill = true;\ndelete __globalThis__.fetch.polyfill;\n// Choose between native implementation (__global__) or custom implementation (__globalThis__)\nvar ctx = __global__.fetch ? __global__ : __globalThis__;\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","var fetchApi\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch\n  } else {\n    fetchApi = fetch\n  }\n}\n\nif (typeof require !== 'undefined' && (typeof window === 'undefined' || typeof window.document === 'undefined')) {\n  var f = fetchApi || require('cross-fetch')\n  if (f.default) f = f.default\n  exports.default = f\n  module.exports = exports.default\n}\n","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nimport { defaults, hasXMLHttpRequest } from './utils.js';\nimport * as fetchNode from './getFetch.cjs';\nvar fetchApi;\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch;\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch;\n  } else {\n    fetchApi = fetch;\n  }\n}\nvar XmlHttpRequestApi;\nif (hasXMLHttpRequest()) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\nvar ActiveXObjectApi;\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\nif (!fetchApi && fetchNode && !XmlHttpRequestApi && !ActiveXObjectApi) fetchApi = fetchNode.default || fetchNode;\nif (typeof fetchApi !== 'function') fetchApi = undefined;\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n  return url;\n};\nvar fetchIt = function fetchIt(url, fetchOptions, callback) {\n  var resolver = function resolver(response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  };\n  if (typeof fetch === 'function') {\n    fetch(url, fetchOptions).then(resolver).catch(callback);\n  } else {\n    fetchApi(url, fetchOptions).then(resolver).catch(callback);\n  }\n};\nvar omitFetchOptions = false;\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  var headers = defaults({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n  if (typeof window === 'undefined' && typeof global !== 'undefined' && typeof global.process !== 'undefined' && global.process.versions && global.process.versions.node) {\n    headers['User-Agent'] = \"i18next-http-backend (node/\".concat(global.process.version, \"; \").concat(global.process.platform, \" \").concat(global.process.arch, \")\");\n  }\n  if (payload) headers['Content-Type'] = 'application/json';\n  var reqOptions = typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions;\n  var fetchOptions = defaults({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, omitFetchOptions ? {} : reqOptions);\n  try {\n    fetchIt(url, fetchOptions, callback);\n  } catch (e) {\n    if (!reqOptions || Object.keys(reqOptions).length === 0 || !e.message || e.message.indexOf('not implemented') < 0) {\n      return callback(e);\n    }\n    try {\n      Object.keys(reqOptions).forEach(function (opt) {\n        delete fetchOptions[opt];\n      });\n      fetchIt(url, fetchOptions, callback);\n      omitFetchOptions = true;\n    } catch (err) {\n      callback(err);\n    }\n  }\n};\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  try {\n    var x;\n    if (XmlHttpRequestApi) {\n      x = new XmlHttpRequestApi();\n    } else {\n      x = new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    }\n    x.open(payload ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    x.withCredentials = !!options.withCredentials;\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n  callback = callback || function () {};\n  if (fetchApi && url.indexOf('file:') !== 0) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n  if (hasXMLHttpRequest() || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n  callback(new Error('No fetch and no xhr implementation found!'));\n};\nexport default request;","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { defaults, makePromise } from './utils.js';\nimport request from './request.js';\nvar getDefaults = function getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    parse: function parse(data) {\n      return JSON.parse(data);\n    },\n    stringify: JSON.stringify,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    parseLoadPayload: function parseLoadPayload(languages, namespaces) {\n      return undefined;\n    },\n    request: request,\n    reloadInterval: typeof window !== 'undefined' ? false : 60 * 60 * 1000,\n    customHeaders: {},\n    queryStringParams: {},\n    crossDomain: false,\n    withCredentials: false,\n    overrideMimeType: false,\n    requestOptions: {\n      mode: 'cors',\n      credentials: 'same-origin',\n      cache: 'default'\n    }\n  };\n};\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, Backend);\n    this.services = services;\n    this.options = options;\n    this.allOptions = allOptions;\n    this.type = 'backend';\n    this.init(services, options, allOptions);\n  }\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n      this.allOptions = allOptions;\n      if (this.services && this.options.reloadInterval) {\n        setInterval(function () {\n          return _this.reload();\n        }, this.options.reloadInterval);\n      }\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      this._readAny(languages, languages, namespaces, namespaces, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      this._readAny([language], language, [namespace], namespace, callback);\n    }\n  }, {\n    key: \"_readAny\",\n    value: function _readAny(languages, loadUrlLanguages, namespaces, loadUrlNamespaces, callback) {\n      var _this2 = this;\n      var loadPath = this.options.loadPath;\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n      loadPath = makePromise(loadPath);\n      loadPath.then(function (resolvedLoadPath) {\n        if (!resolvedLoadPath) return callback(null, {});\n        var url = _this2.services.interpolator.interpolate(resolvedLoadPath, {\n          lng: languages.join('+'),\n          ns: namespaces.join('+')\n        });\n        _this2.loadUrl(url, callback, loadUrlLanguages, loadUrlNamespaces);\n      });\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback, languages, namespaces) {\n      var _this3 = this;\n      var lng = typeof languages === 'string' ? [languages] : languages;\n      var ns = typeof namespaces === 'string' ? [namespaces] : namespaces;\n      var payload = this.options.parseLoadPayload(lng, ns);\n      this.options.request(this.options, url, payload, function (err, res) {\n        if (res && (res.status >= 500 && res.status < 600 || !res.status)) return callback('failed loading ' + url + '; status code: ' + res.status, true);\n        if (res && res.status >= 400 && res.status < 500) return callback('failed loading ' + url + '; status code: ' + res.status, false);\n        if (!res && err && err.message && err.message.indexOf('Failed to fetch') > -1) return callback('failed loading ' + url + ': ' + err.message, true);\n        if (err) return callback(err, false);\n        var ret, parseErr;\n        try {\n          if (typeof res.data === 'string') {\n            ret = _this3.options.parse(res.data, languages, namespaces);\n          } else {\n            ret = res.data;\n          }\n        } catch (e) {\n          parseErr = 'failed parsing ' + url + ' to json';\n        }\n        if (parseErr) return callback(parseErr, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue, callback) {\n      var _this4 = this;\n      if (!this.options.addPath) return;\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      var finished = 0;\n      var dataArray = [];\n      var resArray = [];\n      languages.forEach(function (lng) {\n        var addPath = _this4.options.addPath;\n        if (typeof _this4.options.addPath === 'function') {\n          addPath = _this4.options.addPath(lng, namespace);\n        }\n        var url = _this4.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n        _this4.options.request(_this4.options, url, payload, function (data, res) {\n          finished += 1;\n          dataArray.push(data);\n          resArray.push(res);\n          if (finished === languages.length) {\n            if (typeof callback === 'function') callback(dataArray, resArray);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this5 = this;\n      var _this$services = this.services,\n        backendConnector = _this$services.backendConnector,\n        languageUtils = _this$services.languageUtils,\n        logger = _this$services.logger;\n      var currentLanguage = backendConnector.language;\n      if (currentLanguage && currentLanguage.toLowerCase() === 'cimode') return;\n      var toLoad = [];\n      var append = function append(lng) {\n        var lngs = languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      append(currentLanguage);\n      if (this.allOptions.preload) this.allOptions.preload.forEach(function (l) {\n        return append(l);\n      });\n      toLoad.forEach(function (lng) {\n        _this5.allOptions.ns.forEach(function (ns) {\n          backendConnector.read(lng, ns, 'read', null, null, function (err, data) {\n            if (err) logger.warn(\"loading namespace \".concat(ns, \" for language \").concat(lng, \" failed\"), err);\n            if (!err && data) logger.log(\"loaded namespace \".concat(ns, \" for language \").concat(lng), data);\n            backendConnector.loaded(\"\".concat(lng, \"|\").concat(ns), err, data);\n          });\n        });\n      });\n    }\n  }]);\n  return Backend;\n}();\nBackend.type = 'backend';\nexport default Backend;","import {VERSION} from '@coveo/headless';\n\nexport interface AtomicEnvironment {\n  version: string;\n  headlessVersion: string;\n}\n\ndeclare global {\n  interface Window {\n    [anyGlobalVariable: string]: AtomicEnvironment;\n  }\n}\n\nfunction getWindow() {\n  return window;\n}\n\nexport function getAtomicEnvironment(): AtomicEnvironment {\n  return {\n    version: process.env.VERSION!,\n    headlessVersion: VERSION,\n  };\n}\n\nexport function setCoveoGlobal(globalVariableName: string) {\n  if (getWindow()[globalVariableName]) {\n    return;\n  }\n  getWindow()[globalVariableName] = getAtomicEnvironment();\n}\n","// Necessary for Safari under version 15.4.\nexport function loadFocusVisiblePolyfill() {\n  if (window.applyFocusVisiblePolyfill) {\n    return;\n  }\n\n  try {\n    document.body.querySelector(':focus-visible');\n  } catch (error) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    import('focus-visible/dist/focus-visible.min.js');\n  }\n}\n","export const locales: Record<string, () => Promise<unknown>> = {\n  af: () => import('dayjs/locale/af'),\n  am: () => import('dayjs/locale/am'),\n  'ar-DZ': () => import('dayjs/locale/ar-dz'),\n  'ar-IQ': () => import('dayjs/locale/ar-iq'),\n  'ar-KW': () => import('dayjs/locale/ar-kw'),\n  'ar-LY': () => import('dayjs/locale/ar-ly'),\n  'ar-MA': () => import('dayjs/locale/ar-ma'),\n  'ar-SA': () => import('dayjs/locale/ar-sa'),\n  'ar-TN': () => import('dayjs/locale/ar-tn'),\n  ar: () => import('dayjs/locale/ar'),\n  az: () => import('dayjs/locale/az'),\n  be: () => import('dayjs/locale/be'),\n  bg: () => import('dayjs/locale/bg'),\n  bi: () => import('dayjs/locale/bi'),\n  bm: () => import('dayjs/locale/bm'),\n  'bn-BD': () => import('dayjs/locale/bn-bd'),\n  bn: () => import('dayjs/locale/bn'),\n  bo: () => import('dayjs/locale/bo'),\n  br: () => import('dayjs/locale/br'),\n  bs: () => import('dayjs/locale/bs'),\n  ca: () => import('dayjs/locale/ca'),\n  cs: () => import('dayjs/locale/cs'),\n  cv: () => import('dayjs/locale/cv'),\n  cy: () => import('dayjs/locale/cy'),\n  da: () => import('dayjs/locale/da'),\n  'de-AT': () => import('dayjs/locale/de-at'),\n  'de-CH': () => import('dayjs/locale/de-ch'),\n  de: () => import('dayjs/locale/de'),\n  dv: () => import('dayjs/locale/dv'),\n  el: () => import('dayjs/locale/el'),\n  'en-AU': () => import('dayjs/locale/en-au'),\n  'en-CA': () => import('dayjs/locale/en-ca'),\n  'en-GB': () => import('dayjs/locale/en-gb'),\n  'en-IE': () => import('dayjs/locale/en-ie'),\n  'en-IL': () => import('dayjs/locale/en-il'),\n  'en-IN': () => import('dayjs/locale/en-in'),\n  'en-NZ': () => import('dayjs/locale/en-nz'),\n  'en-SG': () => import('dayjs/locale/en-sg'),\n  'en-TT': () => import('dayjs/locale/en-tt'),\n  en: () => import('dayjs/locale/en'),\n  eo: () => import('dayjs/locale/eo'),\n  'es-DO': () => import('dayjs/locale/es-do'),\n  'es-MX': () => import('dayjs/locale/es-mx'),\n  'es-PR': () => import('dayjs/locale/es-pr'),\n  'es-US': () => import('dayjs/locale/es-us'),\n  es: () => import('dayjs/locale/es'),\n  et: () => import('dayjs/locale/et'),\n  eu: () => import('dayjs/locale/eu'),\n  fa: () => import('dayjs/locale/fa'),\n  fi: () => import('dayjs/locale/fi'),\n  fo: () => import('dayjs/locale/fo'),\n  'fr-CA': () => import('dayjs/locale/fr-ca'),\n  'fr-CH': () => import('dayjs/locale/fr-ch'),\n  fr: () => import('dayjs/locale/fr'),\n  fy: () => import('dayjs/locale/fy'),\n  ga: () => import('dayjs/locale/ga'),\n  gd: () => import('dayjs/locale/gd'),\n  gl: () => import('dayjs/locale/gl'),\n  'gom-LATN': () => import('dayjs/locale/gom-latn'),\n  gu: () => import('dayjs/locale/gu'),\n  hi: () => import('dayjs/locale/hi'),\n  he: () => import('dayjs/locale/he'),\n  hr: () => import('dayjs/locale/hr'),\n  ht: () => import('dayjs/locale/ht'),\n  hu: () => import('dayjs/locale/hu'),\n  'hy-AM': () => import('dayjs/locale/hy-am'),\n  id: () => import('dayjs/locale/id'),\n  is: () => import('dayjs/locale/is'),\n  'it-CH': () => import('dayjs/locale/it-ch'),\n  it: () => import('dayjs/locale/it'),\n  ja: () => import('dayjs/locale/ja'),\n  jv: () => import('dayjs/locale/jv'),\n  ka: () => import('dayjs/locale/ka'),\n  kk: () => import('dayjs/locale/kk'),\n  km: () => import('dayjs/locale/km'),\n  kn: () => import('dayjs/locale/kn'),\n  ko: () => import('dayjs/locale/ko'),\n  ku: () => import('dayjs/locale/ku'),\n  ky: () => import('dayjs/locale/ky'),\n  lb: () => import('dayjs/locale/lb'),\n  lo: () => import('dayjs/locale/lo'),\n  lt: () => import('dayjs/locale/lt'),\n  lv: () => import('dayjs/locale/lv'),\n  me: () => import('dayjs/locale/me'),\n  mi: () => import('dayjs/locale/mi'),\n  mk: () => import('dayjs/locale/mk'),\n  ml: () => import('dayjs/locale/ml'),\n  mn: () => import('dayjs/locale/mn'),\n  mr: () => import('dayjs/locale/mr'),\n  'ms-MY': () => import('dayjs/locale/ms-my'),\n  ms: () => import('dayjs/locale/ms'),\n  mt: () => import('dayjs/locale/mt'),\n  my: () => import('dayjs/locale/my'),\n  nb: () => import('dayjs/locale/nb'),\n  ne: () => import('dayjs/locale/ne'),\n  'nl-BE': () => import('dayjs/locale/nl-be'),\n  nl: () => import('dayjs/locale/nl'),\n  nn: () => import('dayjs/locale/nn'),\n  'oc-LNC': () => import('dayjs/locale/oc-lnc'),\n  'pa-IN': () => import('dayjs/locale/pa-in'),\n  pl: () => import('dayjs/locale/pl'),\n  'pt-BR': () => import('dayjs/locale/pt-br'),\n  pt: () => import('dayjs/locale/pt'),\n  rn: () => import('dayjs/locale/rn'),\n  ro: () => import('dayjs/locale/ro'),\n  sd: () => import('dayjs/locale/sd'),\n  si: () => import('dayjs/locale/si'),\n  se: () => import('dayjs/locale/se'),\n  sk: () => import('dayjs/locale/sk'),\n  sl: () => import('dayjs/locale/sl'),\n  sq: () => import('dayjs/locale/sq'),\n  'sr-CYRL': () => import('dayjs/locale/sr-cyrl'),\n  sr: () => import('dayjs/locale/sr'),\n  ss: () => import('dayjs/locale/ss'),\n  'sv-FI': () => import('dayjs/locale/sv-fi'),\n  sv: () => import('dayjs/locale/sv'),\n  sw: () => import('dayjs/locale/sw'),\n  ta: () => import('dayjs/locale/ta'),\n  te: () => import('dayjs/locale/te'),\n  tg: () => import('dayjs/locale/tg'),\n  tet: () => import('dayjs/locale/tet'),\n  th: () => import('dayjs/locale/th'),\n  tk: () => import('dayjs/locale/tk'),\n  'tl-PH': () => import('dayjs/locale/tl-ph'),\n  tlh: () => import('dayjs/locale/tlh'),\n  tr: () => import('dayjs/locale/tr'),\n  tzl: () => import('dayjs/locale/tzl'),\n  'tzm-LATN': () => import('dayjs/locale/tzm-latn'),\n  'ug-CN': () => import('dayjs/locale/ug-cn'),\n  tzm: () => import('dayjs/locale/tzm'),\n  uk: () => import('dayjs/locale/uk'),\n  ur: () => import('dayjs/locale/ur'),\n  'uz-LATN': () => import('dayjs/locale/uz-latn'),\n  vi: () => import('dayjs/locale/vi'),\n  uz: () => import('dayjs/locale/uz'),\n  yo: () => import('dayjs/locale/yo'),\n  'x-PSEUDO': () => import('dayjs/locale/x-pseudo'),\n  'zh-CN': () => import('dayjs/locale/zh-cn'),\n  'zh-HK': () => import('dayjs/locale/zh-hk'),\n  'zh-TW': () => import('dayjs/locale/zh-tw'),\n  zh: () => import('dayjs/locale/zh'),\n  rw: () => import('dayjs/locale/rw'),\n  ru: () => import('dayjs/locale/ru'),\n};\n","import dayjs from 'dayjs';\nimport {locales} from '../generated/dayjs-locales-data';\n\nconst warn = (language: string) =>\n  console.warn(`Cannot load dayjs locale file file for \"${language}\"`);\n\nconst resolveLanguage = (languageInput: string) => {\n  if (locales[languageInput]) {\n    return languageInput;\n  }\n\n  if (languageInput.includes('-')) {\n    const regionlessLanguage = languageInput.split('-')[0];\n    if (locales[regionlessLanguage]) {\n      return regionlessLanguage;\n    }\n  }\n\n  return languageInput;\n};\n\nexport function loadDayjsLocale(languageInput: string) {\n  const language = resolveLanguage(languageInput);\n  if (!locales[language]) {\n    warn(language);\n    return;\n  }\n\n  try {\n    locales[language]().then(() => dayjs.locale(language));\n  } catch (error) {\n    warn(language);\n  }\n}\n","import {getAssetPath} from '@stencil/core';\nimport DOMPurify from 'dompurify';\nimport Backend, {HttpBackendOptions} from 'i18next-http-backend';\nimport availableLocales from '../../../generated/availableLocales.json';\nimport {AnyEngineType} from './bindings';\nimport {BaseAtomicInterface} from './interface-common';\n\nexport const i18nTranslationNamespace = 'translation';\nexport type i18nCompatibilityVersion = 'v3' | 'v4';\n\nfunction isI18nLocaleAvailable(locale: string) {\n  return availableLocales.includes(locale.toLowerCase());\n}\n\nexport function i18nBackendOptions(\n  atomicInterface: BaseAtomicInterface<AnyEngineType>\n): HttpBackendOptions {\n  return {\n    loadPath: `${getAssetPath(\n      atomicInterface.languageAssetsPath\n    )}/{{lng}}.json?lng={{lng}}&ns={{ns}}`,\n    request: async (_options, url, _payload, callback) => {\n      try {\n        const [fetchUrl, searchParams] = url.split('?');\n        const urlParams = new URLSearchParams(searchParams);\n        const lng = urlParams.get('lng')!;\n        const ns = urlParams.get('ns')!;\n\n        if (!isI18nLocaleAvailable(lng)) {\n          throw new Error(`Unsupported locale \"${lng}\"`);\n        }\n\n        if (ns !== i18nTranslationNamespace) {\n          throw new Error(`Unsupported namespace \"${ns}\"`);\n        }\n\n        const response = await fetch(fetchUrl);\n        if (response.status !== 200 && response.status !== 304) {\n          throw new Error(\n            `Unsuccessful request returned status \"${response.status}\"`\n          );\n        }\n\n        callback(null, {\n          status: response.status,\n          data: await response.json(),\n        });\n      } catch (error) {\n        callback(error, {status: 404, data: ''});\n      }\n    },\n  };\n}\n\nexport function init18n(atomicInterface: BaseAtomicInterface<AnyEngineType>) {\n  return atomicInterface.i18n.use(Backend).init({\n    debug: atomicInterface.logLevel === 'debug',\n    lng: atomicInterface.language,\n    nsSeparator: '___',\n    fallbackLng: 'en',\n    backend: i18nBackendOptions(atomicInterface),\n    interpolation: {\n      escape: (str) => DOMPurify.sanitize(str),\n    },\n    compatibilityJSON: atomicInterface.localizationCompatibilityVersion,\n  });\n}\n\ndeclare module 'i18next' {\n  interface CustomTypeOptions {\n    resources: Record<string, Record<string, string>>;\n  }\n}\n","import {LogLevel} from '@coveo/headless';\nimport {ComponentInterface, h} from '@stencil/core';\nimport {HTMLStencilElement} from '@stencil/core/internal';\nimport {i18n, TFunction} from 'i18next';\nimport Backend from 'i18next-http-backend';\nimport {setCoveoGlobal} from '../../../global/environment';\nimport {loadFocusVisiblePolyfill} from '../../../global/focus-visible';\nimport {loadDayjsLocale} from '../../../utils/dayjs-locales';\nimport {InitializeEvent} from '../../../utils/initialization-utils';\nimport {\n  i18nBackendOptions,\n  i18nCompatibilityVersion,\n  i18nTranslationNamespace,\n} from '../../common/interface/i18n';\nimport {AnyBindings, AnyEngineType} from './bindings';\nimport {init18n} from './i18n';\n\nexport interface BaseAtomicInterface<EngineType extends AnyEngineType>\n  extends ComponentInterface {\n  analytics: boolean;\n  i18n: i18n;\n  engine?: EngineType;\n  languageAssetsPath: string;\n  iconAssetsPath: string;\n  logLevel?: LogLevel;\n  language: string;\n  host: HTMLStencilElement;\n  bindings: AnyBindings;\n  error?: Error;\n  localizationCompatibilityVersion: i18nCompatibilityVersion;\n\n  updateIconAssetsPath(): void;\n  registerFieldsToInclude(): void;\n}\n\nexport const mismatchedInterfaceAndEnginePropError = (\n  interfaceKind: 'search' | 'recommendation',\n  configurationName: 'query pipeline' | 'search hub'\n) =>\n  `A ${configurationName} is configured on the ${interfaceKind} interface element, but the ${interfaceKind} interface was initialized with an engine. You should only configure the ${configurationName} in the target engine.`;\n\nexport class CommonAtomicInterfaceHelper<Engine extends AnyEngineType> {\n  private i18nPromise!: Promise<TFunction>;\n  private hangingComponentsInitialization: InitializeEvent[] = [];\n\n  constructor(\n    private atomicInterface: BaseAtomicInterface<Engine>,\n    globalVariableName: string\n  ) {\n    setCoveoGlobal(globalVariableName);\n    loadFocusVisiblePolyfill();\n\n    const {\n      connectedCallback: originalConnectedCallback,\n      render: originalRender,\n    } = atomicInterface;\n\n    atomicInterface.connectedCallback = () => {\n      this.i18nPromise = init18n(atomicInterface);\n\n      return (\n        originalConnectedCallback &&\n        originalConnectedCallback.call(atomicInterface)\n      );\n    };\n\n    atomicInterface.render = () => {\n      if (atomicInterface.error) {\n        return (\n          <atomic-component-error\n            element={atomicInterface.host}\n            error={atomicInterface.error}\n          ></atomic-component-error>\n        );\n      }\n\n      return originalRender && originalRender.call(atomicInterface);\n    };\n  }\n\n  public onComponentInitializing(event: InitializeEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.atomicInterface.engine) {\n      event.detail(this.atomicInterface.bindings);\n      return;\n    }\n\n    this.hangingComponentsInitialization.push(event);\n  }\n\n  public async onInitialization(initEngine: () => void) {\n    if (this.atomicInterface.engine) {\n      this.atomicInterface.engine.logger.warn(\n        `The ${this.interfaceTagname} component \"initialize\" has already been called.`,\n        this.atomicInterface.host\n      );\n      return;\n    }\n\n    this.atomicInterface.updateIconAssetsPath();\n    initEngine();\n    this.atomicInterface.registerFieldsToInclude();\n    loadDayjsLocale(this.atomicInterface.language);\n    await this.i18nPromise;\n    this.initComponents();\n  }\n\n  public onAnalyticsChange() {\n    const {engine, analytics} = this.atomicInterface;\n    if (!this.engineIsCreated(engine)) {\n      return;\n    }\n\n    if (!analytics) {\n      engine.disableAnalytics();\n      return;\n    }\n\n    engine.enableAnalytics();\n  }\n\n  public onLanguageChange() {\n    const {i18n, language} = this.atomicInterface;\n\n    loadDayjsLocale(language);\n    new Backend(i18n.services, i18nBackendOptions(this.atomicInterface)).read(\n      language,\n      i18nTranslationNamespace,\n      (_, data) => {\n        i18n.addResourceBundle(\n          language,\n          i18nTranslationNamespace,\n          data,\n          true,\n          false\n        );\n        i18n.changeLanguage(language);\n      }\n    );\n  }\n\n  public engineIsCreated(engine?: Engine): engine is Engine {\n    if (!engine) {\n      console.error(\n        `You have to call \"initialize\" on the ${this.interfaceTagname} component before modifying the props or calling other public methods.`,\n        this.atomicInterface.host\n      );\n      return false;\n    }\n\n    return true;\n  }\n\n  private get interfaceTagname() {\n    return this.atomicInterface.host.tagName.toLowerCase();\n  }\n\n  private initComponents() {\n    this.hangingComponentsInitialization.forEach((event) =>\n      event.detail(this.atomicInterface.bindings)\n    );\n  }\n}\n","import {\n  SearchEngineConfiguration,\n  AnalyticsConfiguration,\n} from '@coveo/headless';\nimport {AnalyticsClientSendEventHook} from '@coveo/headless';\nimport {getAtomicEnvironment} from '../../../global/environment';\nimport {InsightEngineConfiguration} from '../../insight';\nimport {RecommendationEngineConfiguration} from '../../recommendations';\n\nexport type AnalyticsPayload = Parameters<AnalyticsClientSendEventHook>[1];\n\nexport function augmentWithExternalMiddleware(\n  event: string,\n  payload: AnalyticsPayload,\n  config:\n    | InsightEngineConfiguration\n    | SearchEngineConfiguration\n    | RecommendationEngineConfiguration\n) {\n  if (config.analytics?.analyticsClientMiddleware) {\n    return config.analytics.analyticsClientMiddleware(event, payload);\n  }\n  return payload;\n}\n\nexport function augmentAnalyticsWithAtomicVersion(payload: AnalyticsPayload) {\n  if (payload.customData) {\n    payload.customData.coveoAtomicVersion = getAtomicEnvironment().version;\n  }\n  return payload;\n}\n\nexport function augmentAnalyticsConfigWithDocument(): AnalyticsConfiguration {\n  return {\n    documentLocation: document.location.href,\n    ...(document.referrer && {originLevel3: document.referrer}),\n  };\n}\n"],"mappings":"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"}