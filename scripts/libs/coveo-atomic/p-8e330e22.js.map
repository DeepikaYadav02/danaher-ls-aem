{"version":3,"names":["getDisplayClass","display","getDensityClass","density","getImageClass","image","getResultDisplayClasses","classes","ResultLayout","constructor","children","imageSize","this","getImageSizeFromSections","_a","getSection","getAttribute","undefined","section","Array","from","find","element","tagName","toLowerCase","getClasses","HTMLContent","containsSections","push"],"sources":["src/components/common/layout/display-options.ts"],"sourcesContent":["import {containsSections, ResultSectionTagName} from './sections';\n\nexport type ResultDisplayBasicLayout = 'list' | 'grid';\nexport type ResultDisplayLayout = ResultDisplayBasicLayout | 'table';\nexport type ResultDisplayDensity = 'comfortable' | 'normal' | 'compact';\nexport type ResultDisplayImageSize = 'large' | 'small' | 'icon' | 'none';\nexport type ResultTarget = '_self' | '_blank' | '_parent' | '_top';\n\nfunction getDisplayClass(display: ResultDisplayLayout) {\n  switch (display) {\n    case 'grid':\n      return 'display-grid';\n    case 'list':\n    default:\n      return 'display-list';\n    case 'table':\n      return 'display-table';\n  }\n}\n\nfunction getDensityClass(density: ResultDisplayDensity) {\n  switch (density) {\n    case 'comfortable':\n      return 'density-comfortable';\n    case 'normal':\n    default:\n      return 'density-normal';\n    case 'compact':\n      return 'density-compact';\n  }\n}\n\nfunction getImageClass(image: ResultDisplayImageSize) {\n  switch (image) {\n    case 'large':\n      return 'image-large';\n    case 'small':\n      return 'image-small';\n    case 'icon':\n    default:\n      return 'image-icon';\n    case 'none':\n      return 'image-none';\n  }\n}\n\nexport function getResultDisplayClasses(\n  display: ResultDisplayLayout,\n  density: ResultDisplayDensity,\n  image: ResultDisplayImageSize\n) {\n  const classes = [\n    getDisplayClass(display),\n    getDensityClass(density),\n    getImageClass(image),\n  ];\n  return classes;\n}\n\nexport class ResultLayout {\n  private children: HTMLCollection;\n  private density: ResultDisplayDensity;\n  private imageSize: ResultDisplayImageSize;\n  private display: ResultDisplayLayout;\n\n  constructor(\n    children: HTMLCollection,\n    display: ResultDisplayLayout,\n    density: ResultDisplayDensity,\n    imageSize: ResultDisplayImageSize\n  ) {\n    this.children = children;\n    this.display = display;\n    this.density = density;\n    this.imageSize = imageSize;\n  }\n\n  private getImageSizeFromSections() {\n    const imageSize = this.getSection(\n      'atomic-result-section-visual'\n    )?.getAttribute('image-size');\n    if (!imageSize) {\n      return undefined;\n    }\n    return imageSize as ResultDisplayImageSize;\n  }\n\n  private getSection(section: ResultSectionTagName) {\n    return Array.from(this.children).find(\n      (element) => element.tagName.toLowerCase() === section\n    );\n  }\n\n  public getClasses(HTMLContent?: string) {\n    const classes = getResultDisplayClasses(\n      this.display,\n      this.density,\n      this.getImageSizeFromSections() ?? this.imageSize\n    );\n    if (\n      HTMLContent\n        ? containsSections(HTMLContent)\n        : containsSections(this.children)\n    ) {\n      classes.push('with-sections');\n    }\n    return classes;\n  }\n}\n"],"mappings":"oCAQA,SAASA,EAAgBC,GACvB,OAAQA,GACN,IAAK,OACH,MAAO,eACT,IAAK,OACL,QACE,MAAO,eACT,IAAK,QACH,MAAO,gBAEb,CAEA,SAASC,EAAgBC,GACvB,OAAQA,GACN,IAAK,cACH,MAAO,sBACT,IAAK,SACL,QACE,MAAO,iBACT,IAAK,UACH,MAAO,kBAEb,CAEA,SAASC,EAAcC,GACrB,OAAQA,GACN,IAAK,QACH,MAAO,cACT,IAAK,QACH,MAAO,cACT,IAAK,OACL,QACE,MAAO,aACT,IAAK,OACH,MAAO,aAEb,C,SAEgBC,EACdL,EACAE,EACAE,GAEA,MAAME,EAAU,CACdP,EAAgBC,GAChBC,EAAgBC,GAChBC,EAAcC,IAEhB,OAAOE,CACT,C,MAEaC,EAMX,WAAAC,CACEC,EACAT,EACAE,EACAQ,GAEAC,KAAKF,SAAWA,EAChBE,KAAKX,QAAUA,EACfW,KAAKT,QAAUA,EACfS,KAAKD,UAAYA,C,CAGX,wBAAAE,G,MACN,MAAMF,GAAYG,EAAAF,KAAKG,WACrB,mCACD,MAAAD,SAAA,SAAAA,EAAEE,aAAa,cAChB,IAAKL,EAAW,CACd,OAAOM,S,CAET,OAAON,C,CAGD,UAAAI,CAAWG,GACjB,OAAOC,MAAMC,KAAKR,KAAKF,UAAUW,MAC9BC,GAAYA,EAAQC,QAAQC,gBAAkBN,G,CAI5C,UAAAO,CAAWC,G,MAChB,MAAMnB,EAAUD,EACdM,KAAKX,QACLW,KAAKT,SACLW,EAAAF,KAAKC,8BAA0B,MAAAC,SAAA,EAAAA,EAAIF,KAAKD,WAE1C,GACEe,EACIC,EAAiBD,GACjBC,EAAiBf,KAAKF,UAC1B,CACAH,EAAQqB,KAAK,gB,CAEf,OAAOrB,C"}