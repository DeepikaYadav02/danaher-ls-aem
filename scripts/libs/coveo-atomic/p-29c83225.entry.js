import{r as t,g as r}from"./p-591772f1.js";import{m as s}from"./p-d2151deb.js";import{I as e}from"./p-a096f4ab.js";import{a as i}from"./p-0f93c815.js";import{R as n}from"./p-0c1fa2de.js";import"./p-92adf573.js";import"./p-a5540571.js";import"./p-eab67c09.js";var o=function(t,e,r,o){var s,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};const u=class{constructor(e){t(this,e),this.formatter=i,this.valueToDisplay=null,this.error=void 0,this.field=void 0,this.formatter=i,this.valueToDisplay=null}setFormat(t){t.preventDefault(),t.stopPropagation(),this.formatter=t.detail}parseValue(){const t=s.getResultProperty(this.result,this.field);if(null===t)return null;const e=parseFloat(`${t}`);return Number.isNaN(e)?(this.error=new Error(`Could not parse "${t}" from field "${this.field}" as a number.`),null):e}formatValue(t){try{return this.formatter(t,this.bindings.i18n.languages)}catch(e){return this.error=e,t.toString()}}updateValueToDisplay(){const t=this.parseValue();null!==t&&(this.valueToDisplay=this.formatValue(t))}componentWillRender(){this.updateValueToDisplay()}render(){if(null!==this.valueToDisplay)return this.valueToDisplay;this.host.remove()}get host(){return r(this)}};o([e()],u.prototype,"bindings",void 0),o([n()],u.prototype,"result",void 0);export{u as atomic_result_number};