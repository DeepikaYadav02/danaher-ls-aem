import{r as t,c as e,h as i,H as s,g as n}from"./p-591772f1.js";import{m as r,p as a}from"./p-a5540571.js";import{b as h}from"./p-72d5eb61.js";import"./p-eab67c09.js";import"./p-b0f98d39.js";const o=":host{color:var(--atomic-on-background);font-size:var(--atomic-text-lg);line-height:calc(var(--atomic-text-lg) * var(--atomic-line-height-ratio))}:host .wrapper{display:flow-root}:host .wrapper .margin{margin:1rem 0}",l=class{constructor(i){t(this,i),this.answerSizeUpdated=e(this,"answerSizeUpdated",3),this.selectInlineLink=e(this,"selectInlineLink",3),this.beginDelayedSelectInlineLink=e(this,"beginDelayedSelectInlineLink",3),this.cancelPendingSelectInlineLink=e(this,"cancelPendingSelectInlineLink",3),this.isRendering=!0,this.htmlContent=void 0,this.innerStyle=void 0}componentWillRender(){this.isRendering=!0}componentDidRender(){this.isRendering=!1,this.emitCurrentHeight()}componentDidLoad(){setTimeout((()=>{this.host.classList.add("loaded")}),0)}connectedCallback(){this.wrapperElement&&this.resizeObserver&&this.resizeObserver.observe(this.wrapperElement)}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}setWrapperElement(e){this.wrapperElement=e,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((()=>this.emitCurrentHeight())),this.resizeObserver.observe(e)}get sanitizedStyle(){if(this.innerStyle)return r(this.innerStyle)}emitCurrentHeight(){this.isRendering||this.answerSizeUpdated.emit({height:this.wrapperElement.scrollHeight})}bindAnalyticsToLink(e){const i={linkText:e.innerText,linkURL:e.href};h(e,{stopPropagation:!1,onSelect:()=>this.selectInlineLink.emit(i),onBeginDelayedSelect:()=>this.beginDelayedSelectInlineLink.emit(i),onCancelPendingSelect:()=>this.cancelPendingSelectInlineLink.emit(i)})}bindAnalyticsToLinks(e){Array.from(e.querySelectorAll("a")).forEach((e=>this.bindAnalyticsToLink(e)))}renderStyle(){const e=this.sanitizedStyle;if(e)return i("style",{innerHTML:e})}renderContent(){return i("div",{class:"wrapper",ref:e=>e&&this.setWrapperElement(e)},i("div",{innerHTML:a.sanitize(this.htmlContent,{USE_PROFILES:{html:!0}}),ref:e=>e&&this.bindAnalyticsToLinks(e),part:"answer",class:"margin"}))}render(){return i(s,null,this.renderStyle(),this.renderContent())}get host(){return n(this)}};l.style=o;export{l as atomic_smart_snippet_answer};