{"version":3,"names":["AtomicSmartSnippetSource","resolveResult","event","preventDefault","stopPropagation","this","source","detail","render","h","Host","LinkWithResultAnalytics","title","clickUri","href","className","part","attributes","anchorAttributes","onSelect","selectSource","emit","onBeginDelayedSelect","beginDelayedSelectSource","onCancelPendingSelect","cancelPendingSelectSource","field","default","key","uniqueId","__decorate","InitializeBindings"],"sources":["src/components/common/smart-snippets/atomic-smart-snippet-source.tsx"],"sourcesContent":["import {Result} from '@coveo/headless';\nimport {\n  Component,\n  Prop,\n  h,\n  Listen,\n  State,\n  EventEmitter,\n  Event,\n  Host,\n} from '@stencil/core';\nimport {\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {ResultContextEvent} from '../../search/result-template-components/result-template-decorators';\nimport {AnyBindings} from '../interface/bindings';\nimport {LinkWithResultAnalytics} from '../result-link/result-link';\n\n/**\n * @part source-url\n * @part source-title\n * @internal\n */\n@Component({\n  tag: 'atomic-smart-snippet-source',\n  shadow: false,\n})\nexport class AtomicSmartSnippetSource\n  implements InitializableComponent<AnyBindings>\n{\n  @InitializeBindings() public bindings!: AnyBindings;\n  @Prop({reflect: true, mutable: true}) source!: Result;\n  @Prop() anchorAttributes?: Attr[];\n\n  @Event() selectSource!: EventEmitter;\n  @Event() beginDelayedSelectSource!: EventEmitter;\n  @Event() cancelPendingSelectSource!: EventEmitter;\n\n  @State() public error!: Error;\n\n  @Listen('atomic/resolveResult')\n  public resolveResult(event: ResultContextEvent<Result>) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.source) {\n      event.detail(this.source);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <LinkWithResultAnalytics\n          title={this.source.clickUri}\n          href={this.source.clickUri}\n          className=\"block truncate\"\n          part=\"source-url\"\n          attributes={this.anchorAttributes}\n          onSelect={() => this.selectSource.emit()}\n          onBeginDelayedSelect={() => this.beginDelayedSelectSource.emit()}\n          onCancelPendingSelect={() => this.cancelPendingSelectSource.emit()}\n        >\n          {this.source.clickUri}\n        </LinkWithResultAnalytics>\n        <LinkWithResultAnalytics\n          title={this.source.title}\n          href={this.source.clickUri}\n          attributes={this.anchorAttributes}\n          className=\"block\"\n          part=\"source-title\"\n          onSelect={() => this.selectSource.emit()}\n          onBeginDelayedSelect={() => this.beginDelayedSelectSource.emit()}\n          onCancelPendingSelect={() => this.cancelPendingSelectSource.emit()}\n        >\n          <atomic-result-text\n            field=\"title\"\n            default=\"no-title\"\n            key={this.source.uniqueId}\n          ></atomic-result-text>\n        </LinkWithResultAnalytics>\n      </Host>\n    );\n  }\n}\n"],"mappings":"klBA4BaA,EAAwB,M,uRAc5B,aAAAC,CAAcC,GACnBA,EAAMC,iBACND,EAAME,kBACN,GAAIC,KAAKC,OAAQ,CACfJ,EAAMK,OAAOF,KAAKC,O,EAItB,MAAAE,GACE,OACEC,EAACC,EAAI,KACHD,EAACE,EAAuB,CACtBC,MAAOP,KAAKC,OAAOO,SACnBC,KAAMT,KAAKC,OAAOO,SAClBE,UAAU,iBACVC,KAAK,aACLC,WAAYZ,KAAKa,iBACjBC,SAAU,IAAMd,KAAKe,aAAaC,OAClCC,qBAAsB,IAAMjB,KAAKkB,yBAAyBF,OAC1DG,sBAAuB,IAAMnB,KAAKoB,0BAA0BJ,QAE3DhB,KAAKC,OAAOO,UAEfJ,EAACE,EAAuB,CACtBC,MAAOP,KAAKC,OAAOM,MACnBE,KAAMT,KAAKC,OAAOO,SAClBI,WAAYZ,KAAKa,iBACjBH,UAAU,QACVC,KAAK,eACLG,SAAU,IAAMd,KAAKe,aAAaC,OAClCC,qBAAsB,IAAMjB,KAAKkB,yBAAyBF,OAC1DG,sBAAuB,IAAMnB,KAAKoB,0BAA0BJ,QAE5DZ,EAAA,sBACEiB,MAAM,QACNC,QAAQ,WACRC,IAAKvB,KAAKC,OAAOuB,Y,GA/CEC,EAAA,CAA5BC,K"}