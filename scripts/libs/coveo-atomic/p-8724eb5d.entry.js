import{r as t,h as i,g as e}from"./p-591772f1.js";import{O as s,w as l,o}from"./p-d2151deb.js";import{F as r}from"./p-a7ba7276.js";import{I as a,B as n}from"./p-a096f4ab.js";import{r as d}from"./p-a5540571.js";import{R as p}from"./p-66806a54.js";import{R as m}from"./p-fcb55194.js";import"./p-92adf573.js";import"./p-eab67c09.js";import"./p-38b8e15b.js";import"./p-0edd74fe.js";import"./p-1e65cba6.js";import"./p-8e330e22.js";import"./p-2a438118.js";import"./p-72d5eb61.js";import"./p-b0f98d39.js";import"./p-4328fcc3.js";const c=".list-wrapper.placeholder .result-component{display:none}.list-wrapper.placeholder table.list-root{display:none}.list-wrapper:not(.placeholder) atomic-result-placeholder{display:none}.list-wrapper:not(.placeholder) atomic-result-table-placeholder{display:none}.list-root.loading{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}@keyframes pulse{0%,100%{opacity:0.6}50%{opacity:0.2}}[part~='divider']:not(:last-child){border-bottom:1px solid var(--atomic-neutral);padding-bottom:1rem}[part~='divider']{margin-bottom:1rem}.list-root.display-list{display:flex;flex-direction:column}.list-root.display-list .result-component,.list-root.display-list atomic-result-placeholder{width:auto}@media (min-width: 1024px){.list-root.display-list.density-comfortable [part~='outline']::before{margin:2rem 0}.list-root.display-list.density-normal [part~='outline']::before{margin:1.5rem 0}@media not all and (min-width: 1024px){.list-root.display-list.density-normal [part~='outline']::before{margin:1.75rem 0}}.list-root.display-list.density-compact [part~='outline']::before{margin:1rem 0}@media not all and (min-width: 1024px){.list-root.display-list.density-compact [part~='outline']::before{margin:1.5rem 0}}.list-root.display-list [part~='outline']::before{display:block;content:' ';height:1px;background-color:var(--atomic-neutral)}.list-root.display-list [part~='outline']:first-of-type::before{display:none}.list-root.display-list atomic-result-placeholder::before{background-color:transparent}}@media not all and (min-width: 1024px){.list-root.display-list.image-large.density-comfortable [part~='outline']::before{margin:2rem 0}.list-root.display-list.image-large.density-normal [part~='outline']::before{margin:1.5rem 0}@media not all and (min-width: 1024px){.list-root.display-list.image-large.density-normal [part~='outline']::before{margin:1.75rem 0}}.list-root.display-list.image-large.density-compact [part~='outline']::before{margin:1rem 0}@media not all and (min-width: 1024px){.list-root.display-list.image-large.density-compact [part~='outline']::before{margin:1.5rem 0}}.list-root.display-list.image-large [part~='outline']::before{display:block;content:' ';height:1px;background-color:var(--atomic-neutral)}.list-root.display-list.image-large [part~='outline']:first-of-type::before{display:none}.list-root.display-list.image-large atomic-result-placeholder::before{background-color:transparent}.list-root.display-list.image-large{display:grid;justify-content:space-evenly;grid-template-columns:minmax(auto, 35rem)}.list-root.display-list.image-small,.list-root.display-list.image-icon,.list-root.display-list.image-none{grid-row-gap:1rem}.list-root.display-list.image-small [part~='outline'],.list-root.display-list.image-icon [part~='outline'],.list-root.display-list.image-none [part~='outline']{border:1px solid var(--atomic-neutral);padding:1rem;border-radius:1rem}.list-root.display-list.image-small atomic-result-placeholder,.list-root.display-list.image-icon atomic-result-placeholder,.list-root.display-list.image-none atomic-result-placeholder{border-color:transparent}}";var u=function(t,e,i,l){var s,o=arguments.length,r=o<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,i):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,l);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r};const h=class{constructor(e){t(this,e),this.loadingFlag=d("firstResultLoaded-"),this.display="list",this.resultTemplateRegistered=!1,this.templateHasError=!1,this.density="normal",this.imageSize="icon",this.foldedResultListState=void 0,this.resultsPerPageState=void 0,this.resultTemplateRegistered=!1,this.error=void 0,this.templateHasError=!1,this.density="normal",this.imageSize="icon",this.collectionField=void 0,this.parentField=void 0,this.childField=void 0}async setRenderFunction(t){this.resultRenderingFunction=t}resolveFoldedResultList(t){t.preventDefault(),t.stopPropagation(),t.detail(this.foldedResultList)}loadCollection(t){t.preventDefault(),t.stopPropagation(),this.foldedResultList.loadCollection(t.detail)}get focusTarget(){return this.nextNewResultTarget||(this.nextNewResultTarget=new r(this)),this.nextNewResultTarget}initialize(){try{this.foldedResultList=this.initFolding(),this.resultsPerPage=s(this.bindings.engine)}catch(t){this.error=t}const t=new m({includeDefaultTemplate:!0,templateElements:Array.from(this.host.querySelectorAll("atomic-result-template")),getResultTemplateRegistered:()=>this.resultTemplateRegistered,getTemplateHasError:()=>this.templateHasError,setResultTemplateRegistered:t=>{this.resultTemplateRegistered=t},setTemplateHasError:t=>{this.templateHasError=t},bindings:this.bindings});this.resultListCommon=new p({resultTemplateProvider:t,getNumberOfPlaceholders:()=>this.resultsPerPageState.numberOfResults,host:this.host,bindings:this.bindings,getDensity:()=>this.density,getResultDisplay:()=>this.display,getLayoutDisplay:()=>this.display,getImageSize:()=>this.imageSize,nextNewResultTarget:this.focusTarget,loadingFlag:this.loadingFlag,getResultListState:()=>this.foldedResultListState,getResultRenderingFunction:()=>this.resultRenderingFunction,renderResult:t=>i("atomic-result",{...t}),getInteractiveResult:t=>l(this.bindings.engine,{options:{result:t}})})}initFolding(t={options:{}}){return o(this.bindings.engine,{options:{...t.options,folding:{collectionField:this.collectionField,parentField:this.parentField,childField:this.childField}}})}render(){return this.resultListCommon.render()}get host(){return e(this)}};u([a()],h.prototype,"bindings",void 0),u([n("foldedResultList")],h.prototype,"foldedResultListState",void 0),u([n("resultsPerPage")],h.prototype,"resultsPerPageState",void 0),h.style=c;export{h as atomic_folded_result_list};