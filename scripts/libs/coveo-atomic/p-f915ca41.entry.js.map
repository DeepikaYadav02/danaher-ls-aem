{"version":3,"names":["atomicRecsErrorCss","AtomicRecsError","this","showMoreInfo","initialize","recommendationList","buildRecommendationList","bindings","engine","render","h","QueryErrorCommon","onShowMoreInfo","queryErrorState","error","recommendationListState","hasError","setAriaLive","msg","ariaMessage","__decorate","InitializeBindings","BindStateToController","AriaLiveRegion"],"sources":["src/components/recommendations/atomic-recs-error/atomic-recs-error.pcss?tag=atomic-recs-error&encapsulation=shadow","src/components/recommendations/atomic-recs-error/atomic-recs-error.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\n","import {\n  buildRecommendationList,\n  RecommendationList,\n  RecommendationListState,\n} from '@coveo/headless/recommendation';\nimport {Component, h, State} from '@stencil/core';\nimport {AriaLiveRegion} from '../../../utils/accessibility-utils';\nimport {\n  BindStateToController,\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {QueryErrorCommon} from '../../common/query-error/query-error-common';\nimport {RecsBindings} from '../atomic-recs-interface/atomic-recs-interface';\n\n/**\n * The `atomic-recs-error` component handles fatal errors when performing a recommendations request on the index or Search API. When the error is known, it displays a link to relevant documentation link for debugging purposes. When the error is unknown, it displays a small text area with the JSON content of the error.\n *\n * @part icon - The svg related to the error.\n * @part title - The title of the error.\n * @part description - A description of the error.\n * @part doc-link - A link to the relevant documentation.\n * @part more-info-btn - A button to request additional error information.\n * @part error-info - Additional error information.\n */\n@Component({\n  tag: 'atomic-recs-error',\n  styleUrl: 'atomic-recs-error.pcss',\n  shadow: true,\n})\nexport class AtomicRecsError implements InitializableComponent<RecsBindings> {\n  @InitializeBindings() public bindings!: RecsBindings;\n  public recommendationList!: RecommendationList;\n\n  @BindStateToController('recommendationList')\n  @State()\n  public recommendationListState!: RecommendationListState;\n  @State() public error!: Error;\n  @State() showMoreInfo = false;\n\n  @AriaLiveRegion('recs-error')\n  protected ariaMessage!: string;\n\n  public initialize() {\n    this.recommendationList = buildRecommendationList(this.bindings.engine);\n  }\n\n  public render() {\n    return (\n      <QueryErrorCommon\n        bindings={this.bindings}\n        onShowMoreInfo={() => true}\n        queryErrorState={{\n          error: this.recommendationListState.error,\n          hasError: !!this.recommendationListState.error,\n        }}\n        setAriaLive={(msg) => (this.ariaMessage = msg)}\n        showMoreInfo={this.showMoreInfo}\n      />\n    );\n  }\n}\n"],"mappings":"6UAAA,MAAMA,EAAqB,k1gC,iXC8BdC,EAAe,M,yBAQjBC,KAAAC,aAAe,M,8EAAA,K,CAKjB,UAAAC,GACLF,KAAKG,mBAAqBC,EAAwBJ,KAAKK,SAASC,O,CAG3D,MAAAC,GACL,OACEC,EAACC,EAAgB,CACfJ,SAAUL,KAAKK,SACfK,eAAgB,IAAM,KACtBC,gBAAiB,CACfC,MAAOZ,KAAKa,wBAAwBD,MACpCE,WAAYd,KAAKa,wBAAwBD,OAE3CG,YAAcC,GAAShB,KAAKiB,YAAcD,EAC1Cf,aAAcD,KAAKC,c,GA1BIiB,EAAA,CAA5BC,K,+BAKMD,EAAA,CAFNE,EAAsB,uB,8CAObF,EAAA,CADTG,EAAe,e"}