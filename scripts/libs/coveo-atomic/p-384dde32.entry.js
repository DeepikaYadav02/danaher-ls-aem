import{r as t}from"./p-591772f1.js";import{S as i,a as n}from"./p-3eb3e1ff.js";import{m as s}from"./p-d2151deb.js";import{d as r}from"./p-f840f03f.js";import{c as e,a as u}from"./p-eab67c09.js";import{I as h}from"./p-a096f4ab.js";import{R as o}from"./p-0c1fa2de.js";import"./p-92adf573.js";import"./p-a5540571.js";var f=e((function(t,s){t.exports=function(){var t,s,i=1e3,n=6e4,e=36e5,r=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,u=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:a,months:u,days:r,hours:e,minutes:n,seconds:i,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof v},f=function(t,s,i){return new v(t,i,s.$l)},m=function(t){return s.p(t)+"s"},l=function(t){return t<0},$=function(t){return l(t)?Math.ceil(t):Math.floor(t)},p=function(t){return Math.abs(t)},y=function(t,s){return t?l(t)?{negative:!0,format:""+p(t)+s}:{negative:!1,format:""+t+s}:{negative:!1,format:""}},v=function(){function l(t,s,i){var n=this;if(this.$d={},this.$l=i,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*d[m(s)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(s){n.$d[m(s)]=t[s]})),this.calMilliseconds(),this;if("string"==typeof t){var e=t.match(h);if(e){var r=e.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var p=l.prototype;return p.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,i){return s+(t.$d[i]||0)*d[i]}),0)},p.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/a),t%=a,this.$d.months=$(t/u),t%=u,this.$d.days=$(t/r),t%=r,this.$d.hours=$(t/e),t%=e,this.$d.minutes=$(t/n),t%=n,this.$d.seconds=$(t/i),t%=i,this.$d.milliseconds=t},p.toISOString=function(){var t=y(this.$d.years,"Y"),s=y(this.$d.months,"M"),i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var n=y(i,"D"),e=y(this.$d.hours,"H"),r=y(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3,o=Math.round(1e3*o)/1e3);var a=y(o,"S"),u=t.negative||s.negative||n.negative||e.negative||r.negative||a.negative,h=e.format||r.format||a.format?"T":"",d=(u?"-":"")+"P"+t.format+s.format+n.format+h+e.format+r.format+a.format;return"P"===d||"-P"===d?"P0D":d},p.toJSON=function(){return this.toISOString()},p.format=function(t){var i=t||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return i.replace(o,(function(t,s){return s||String(n[t])}))},p.as=function(t){return this.$ms/d[m(t)]},p.get=function(t){var s=this.$ms,i=m(t);return"milliseconds"===i?s%=1e3:s="weeks"===i?$(s/d[i]):this.$d[i],s||0},p.add=function(t,s,i){var n;return n=s?t*d[m(s)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+n*(i?-1:1),this)},p.subtract=function(t,s){return this.add(t,s,!0)},p.locale=function(t){var s=this.clone();return s.$l=t,s},p.clone=function(){return f(this.$ms,this)},p.humanize=function(s){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!s)},p.valueOf=function(){return this.asMilliseconds()},p.milliseconds=function(){return this.get("milliseconds")},p.asMilliseconds=function(){return this.as("milliseconds")},p.seconds=function(){return this.get("seconds")},p.asSeconds=function(){return this.as("seconds")},p.minutes=function(){return this.get("minutes")},p.asMinutes=function(){return this.as("minutes")},p.hours=function(){return this.get("hours")},p.asHours=function(){return this.as("hours")},p.days=function(){return this.get("days")},p.asDays=function(){return this.as("days")},p.weeks=function(){return this.get("weeks")},p.asWeeks=function(){return this.as("weeks")},p.months=function(){return this.get("months")},p.asMonths=function(){return this.as("months")},p.years=function(){return this.get("years")},p.asYears=function(){return this.as("years")},l}(),g=function(t,s,i){return t.add(s.years()*i,"y").add(s.months()*i,"M").add(s.days()*i,"d").add(s.hours()*i,"h").add(s.minutes()*i,"m").add(s.seconds()*i,"s").add(s.milliseconds()*i,"ms")};return function(i,n,e){t=e,s=e().$utils(),e.duration=function(t,s){var i=e.locale();return f(t,{$l:i},s)},e.isDuration=c;var r=n.prototype.add,o=n.prototype.subtract;n.prototype.add=function(t,s){return c(t)?g(this,t,1):r.bind(this)(t,s)},n.prototype.subtract=function(t,s){return c(t)?g(this,t,-1):o.bind(this)(t,s)}}}()})),c=function(t,s,i,n){var e,r=arguments.length,o=r<3?s:null===n?n=Object.getOwnPropertyDescriptor(s,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,s,i,n);else for(var a=t.length-1;a>=0;a--)(e=t[a])&&(o=(r<3?e(o):r>3?e(s,i,o):e(s,i))||o);return r>3&&o&&Object.defineProperty(s,i,o),o};r.extend(f);const a=class{constructor(s){t(this,s),this.unit="ms",this.error=void 0,this.field=void 0,this.unit="ms",this.format=void 0}initialize(){new i({field:new n({required:!0,emptyAllowed:!1})}).validate({field:this.field}),this.value?isNaN(this.value)&&(this.error=new Error(`Value ${this.value} for field ${this.field} is not a number`)):this.error=new Error(`No value found for field ${this.field}`)}render(){const t=r.duration(this.value,this.unit);return this.format?t.format(this.format):t.asYears()>=1?this.bindings.i18n.t("approx_year",{count:Math.round(t.asYears())}):t.asMonths()>=1?this.bindings.i18n.t("approx_month",{count:Math.round(t.asMonths())}):t.asDays()>=1?this.bindings.i18n.t("approx_day",{count:Math.round(t.asDays())}):t.format("HH:mm:ss")}get value(){return s.getResultProperty(this.result,this.field)}};c([h()],a.prototype,"bindings",void 0),c([o()],a.prototype,"result",void 0);export{a as atomic_result_timespan};