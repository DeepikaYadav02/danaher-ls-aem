/*! For license information please see p-044ef394.js.LICENSE.txt */
import{h as e}from"./p-591772f1.js";import{A as a}from"./p-b700cfe1.js";import{A as t,C as r}from"./p-043e4cde.js";import{C as s}from"./p-fafae456.js";import{B as n}from"./p-59a8a3f5.js";import{H as o}from"./p-a52ecd94.js";import{g as l,r as c}from"./p-a5540571.js";import{c as u}from"./p-b144785c.js";import{r as i}from"./p-9cfa1365.js";import{F as p}from"./p-ee2cdd76.js";const f=(a,t)=>e("div",{class:"bg-background border border-neutral rounded-lg p-4",part:"facet"},t),b=l=>{const r=l.i18n.t(l.label),c=l.i18n.t("expand-facet",{label:r}),i=l.i18n.t("collapse-facet",{label:r}),u=l.i18n.t("clear-filters",{count:l.numberOfSelectedValues}),p=l.i18n.t("clear-filters-for-facet",{count:l.numberOfSelectedValues,label:r});return[e(n,{style:"text-transparent",part:"label-button",class:"flex font-bold justify-between w-full py-1 px-2 text-lg rounded-none",title:l.isCollapsed?c:i,onClick:()=>l.onToggleCollapse(),ariaExpanded:(!l.isCollapsed).toString(),ref:l.headerRef},e(o,{level:l.headingLevel,class:"truncate"},r),e("atomic-icon",{part:"label-button-icon",class:"w-3 self-center shrink-0 ml-4",icon:l.isCollapsed?a:t})),l.onClearFilters&&l.numberOfSelectedValues>0&&e(n,{style:"text-primary",part:"clear-button",class:"flex items-baseline max-w-full p-2 text-sm",ariaLabel:p,onClick:()=>l.onClearFilters()},e("atomic-icon",{part:"clear-button-icon",class:"w-2 h-2 mr-1",icon:s}),e("span",null,u))]},d=({numberOfValues:a,isCollapsed:t})=>{const r=[];for(let t=0;t<a;t++){const a=`${l(60,100)}%`,t=`${l(.3,1)}`;r.push(e("div",{class:"flex bg-neutral h-5 mt-4",style:{width:a,opacity:t}}))}return e("div",{part:"placeholder",class:"bg-background animate-pulse border border-neutral rounded-lg mb-4 p-7","aria-hidden":"true"},e("div",{class:"bg-neutral rounded h-8",style:{width:`${l(25,75)}%`}}),!t&&e("div",{class:"mt-7"},r))};var m=/["'&<>]/,v=h;function h(e){var a,t=""+e,l=m.exec(t);if(!l)return t;var r="",s=0,n=0;for(s=l.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==s&&(r+=t.substring(n,s)),n=s+1,r+=a}return n!==s?r+t.substring(n,s):r}function x(e,a){const t=""!==e.query,l=!e.values.length&&!a.values.length,r=!e.isLoading&&a.isLoading;return!t||!l||r}function g(e){const a=""!==e.query,t=e.isLoading,l=!!e.values.length;return!(!a||!l&&t)}function k(e,a=""){const t=v(e);if(""===a.trim())return t;const l=new RegExp(`(${i(a)})`,"i");return v(e).replace(l,'<span part="search-highlight" class="font-bold">$1</span>')}const w=(a,t)=>{const l=c("facet-value-"),s=a.numberOfResults.toLocaleString(a.i18n.language),n=a.i18n.t("facet-value",{value:a.displayValue,count:a.numberOfResults,interpolation:{escapeValue:!1}});let o;return e("li",{key:a.displayValue,class:"relative flex items-center"},e(r,{id:l,checked:a.isSelected,onToggle:()=>a.onClick(),part:"value-checkbox",class:"value-checkbox",ariaLabel:n,ref:a.buttonRef,onMouseDown:e=>u(e,{color:"neutral",parent:o}),iconPart:"value-checkbox-icon"}),e("label",{ref:e=>o=e,htmlFor:l,part:"value-checkbox-label",class:"group items-center",onMouseDown:e=>u(e,{color:"neutral"}),"aria-hidden":"true"},t,e("span",{part:"value-count",class:"value-count"},a.i18n.t("between-parentheses",{text:s}))))},y=a=>e("span",{title:a.displayValue,part:"value-label",class:"value-label truncate group-hover:text-primary group-focus:text-primary "+(a.isSelected?"font-bold":""),innerHTML:k(a.displayValue,a.searchQuery)}),j=(a,t)=>{if(!a.label)return t;const l=a.i18n.t(a.label),r=void 0===a.query?a.i18n.t("facet-values",{label:l}):a.i18n.t("facet-search-results",{query:a.query,label:l});return e(p,{label:r},t)};export{y as F,g as a,j as b,f as c,b as d,d as e,v as f,w as g,x as s};