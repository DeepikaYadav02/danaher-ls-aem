import{r as t,c as i,h as s}from"./p-591772f1.js";import{Z as e}from"./p-d2151deb.js";import{p as a}from"./p-f2ab2fa8.js";import{B as n}from"./p-59a8a3f5.js";import"./p-f840f03f.js";import"./p-eab67c09.js";import"./p-b144785c.js";import"./p-92adf573.js";import"./p-18dbee89.js";const r=class{constructor(a){t(this,a),this.applyInput=i(this,"atomic/dateInputApply",7),this.start=void 0,this.end=void 0,this.bindings=void 0,this.filter=void 0,this.filterState=void 0,this.label=void 0,this.min=void 0,this.max=void 0}connectedCallback(){this.start=this.filterState.range?a(this.filterState.range.start).toDate():void 0,this.end=this.filterState.range?a(this.filterState.range.end).toDate():void 0}apply(){this.startRef.validity.valid&&this.endRef.validity.valid&&(this.applyInput.emit(),this.filter.setRange(e({start:this.start,end:this.end})))}formattedDateValue(t){return t?a(t).format("YYYY-MM-DD"):""}render(){var t,i;const e=this.bindings.i18n.t(this.label),r=this.bindings.i18n.t("start"),l=this.bindings.i18n.t("end"),d=this.bindings.i18n.t("date-input-start",{label:e}),p=this.bindings.i18n.t("date-input-end",{label:e}),h=this.bindings.i18n.t("apply"),o=this.bindings.i18n.t("date-input-apply",{label:e}),f="input-primary p-2.5",m="text-neutral-dark self-center",u="yyyy-mm-dd",c="^(1[4-9]\\d{2}|2\\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$";return s("form",{class:"grid gap-2 grid-cols-min-1fr mt-4 px-2",onSubmit:t=>(t.preventDefault(),this.apply(),!1)},s("label",{part:"input-label",class:m,htmlFor:`${this.filterState.facetId}_start`},r,":"),s("input",{id:`${this.filterState.facetId}_start`,part:"input-start",type:"date",ref:t=>this.startRef=t,class:f,"aria-label":d,placeholder:u,pattern:c,required:!0,min:this.min||this.formattedDateValue("1401-01-01"),max:this.end?this.formattedDateValue(this.end):this.max,value:this.formattedDateValue(null===(t=this.filterState.range)||void 0===t?void 0:t.start),onInput:t=>this.start=a(t.target.value).toDate()}),s("label",{part:"input-label",class:m,htmlFor:`${this.filterState.facetId}_end`},l,":"),s("input",{id:`${this.filterState.facetId}_end`,part:"input-end",type:"date",ref:t=>this.endRef=t,class:f,"aria-label":p,placeholder:u,pattern:c,required:!0,min:this.min||this.formattedDateValue(this.start),max:this.max,value:this.formattedDateValue(null===(i=this.filterState.range)||void 0===i?void 0:i.end),onInput:t=>this.end=a(t.target.value).toDate()}),s(n,{style:"outline-primary",type:"submit",part:"input-apply-button",class:"p-2.5 col-span-2 truncate",ariaLabel:o,text:h}))}};export{r as atomic_facet_date_input};