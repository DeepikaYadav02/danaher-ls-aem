import{r as t,h as s,g as e}from"./p-591772f1.js";import{S as i,N as a}from"./p-3eb3e1ff.js";import{e as o}from"./p-d2151deb.js";import{I as r,B as p}from"./p-a096f4ab.js";import{g as n,s as c,f,h as d,i as m}from"./p-e9fa8599.js";import"./p-92adf573.js";import"./p-a5540571.js";import"./p-eab67c09.js";import"./p-85aa182a.js";import"./p-fa940542.js";import"./p-044ef394.js";import"./p-b700cfe1.js";import"./p-043e4cde.js";import"./p-fafae456.js";import"./p-59a8a3f5.js";import"./p-b144785c.js";import"./p-18dbee89.js";import"./p-a52ecd94.js";import"./p-9cfa1365.js";import"./p-ee2cdd76.js";import"./p-cfb3c589.js";var h=function(t,e,s,a){var i,o=arguments.length,r=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,a);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(r=(o<3?i(r):o>3?i(e,s,r):i(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r};const l=class{constructor(e){t(this,e),this.collapseFacetsAfter=4,this.sortFacets=()=>{const t=n(this.host),e=c(t,this.facetManager),{visibleFacets:s,invisibleFacets:a}=f(e,this.bindings.store.getAllFacets()),i=d(this.host);m(s,this.collapseFacetsAfter),null==i||i.updateCollapseFacetsDependingOnFacetsVisibility(this.collapseFacetsAfter,s.length),this.host.append(...s,...a,...i?[i]:[])},this.facetManagerState=void 0,this.error=void 0,this.collapseFacetsAfter=4}initialize(){this.validateProps(),this.facetManager=o(this.bindings.engine),this.bindings.i18n.on("languageChanged",this.sortFacets)}validateProps(){new i({collapseFacetAfter:new a({min:-1,required:!0})}).validate({collapseFacetAfter:this.collapseFacetsAfter})}disconnectedCallback(){this.bindings.i18n.off("languageChanged",this.sortFacets)}render(){return s("slot",null)}get host(){return e(this)}};h([r()],l.prototype,"bindings",void 0),h([p("facetManager",{onUpdateCallbackMethod:"sortFacets"})],l.prototype,"facetManagerState",void 0);export{l as atomic_facet_manager};